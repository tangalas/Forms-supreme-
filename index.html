<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SeeMe Rolling E-Bike Rental Agreement</title>
  <link rel="stylesheet" href="https://unpkg.com/modern-normalize@2.0.0/modern-normalize.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.1/jspdf.plugin.autotable.min.js"></script>
  <style>
    :root {
      --color-emerald-100: #d1fae5;
      --color-emerald-500: #10b981;
      --color-emerald-600: #059669;
      --color-emerald-700: #047857;
      --color-emerald-800: #065f46;
      --color-purple-900: #4c1d95;
      --color-gray-300: #d1d5db;
      --color-gray-400: #9ca3af;
      --color-gray-500: #6b7280;
      --color-red-500: #ef4444;
      --color-blue-600: #2563eb;
      --color-indigo-700: #4338ca;
      --color-indigo-800: #3730a3;
      --color-white: #ffffff;
      --color-black: #000000;
      
      --radius: 0.5rem;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      color: var(--color-black);
      background-color: var(--color-emerald-500);
      line-height: 1.5;
    }

    .container {
      width: 100%;
      max-width: 48rem; /* 768px */
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    .flex {
      display: flex;
    }

    .flex-col {
      flex-direction: column;
    }

    .items-center {
      align-items: center;
    }

    .justify-center {
      justify-content: center;
    }

    .justify-end {
      justify-content: flex-end;
    }

    .space-x-2 > * + * {
      margin-left: 0.5rem;
    }

    .space-y-2 > * + * {
      margin-top: 0.5rem;
    }

    .space-y-4 > * + * {
      margin-top: 1rem;
    }

    .space-y-6 > * + * {
      margin-top: 1.5rem;
    }

    .space-y-8 > * + * {
      margin-top: 2rem;
    }

    .mt-1 {
      margin-top: 0.25rem;
    }

    .mt-2 {
      margin-top: 0.5rem;
    }

    .mb-2 {
      margin-bottom: 0.5rem;
    }

    .mb-4 {
      margin-bottom: 1rem;
    }

    .mb-8 {
      margin-bottom: 2rem;
    }

    .ml-auto {
      margin-left: auto;
    }

    .p-1 {
      padding: 0.25rem;
    }

    .p-2 {
      padding: 0.5rem;
    }

    .p-4 {
      padding: 1rem;
    }

    .p-6 {
      padding: 1.5rem;
    }

    .px-3 {
      padding-left: 0.75rem;
      padding-right: 0.75rem;
    }

    .px-8 {
      padding-left: 2rem;
      padding-right: 2rem;
    }

    .py-1\.5 {
      padding-top: 0.375rem;
      padding-bottom: 0.375rem;
    }

    .py-2 {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    .grid {
      display: grid;
    }

    .gap-2 {
      gap: 0.5rem;
    }

    .gap-3 {
      gap: 0.75rem;
    }

    .gap-4 {
      gap: 1rem;
    }

    .gap-6 {
      gap: 1.5rem;
    }

    .grid-cols-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr));
    }

    .grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .col-span-2 {
      grid-column: span 2 / span 2;
    }

    .w-full {
      width: 100%;
    }

    .w-40 {
      width: 10rem;
    }

    .h-40 {
      height: 10rem;
    }

    .h-4 {
      height: 1rem;
    }

    .w-4 {
      width: 1rem;
    }

    .h-10 {
      height: 2.5rem;
    }

    .w-10 {
      width: 2.5rem;
    }

    .h-12 {
      height: 3rem;
    }

    .w-12 {
      width: 3rem;
    }

    .h-24 {
      height: 6rem;
    }

    .h-[100px] {
      height: 100px;
    }

    .h-[150px] {
      height: 150px;
    }

    .max-h-40 {
      max-height: 10rem;
    }

    .max-h-60 {
      max-height: 15rem;
    }

    .rounded {
      border-radius: var(--radius);
    }

    .rounded-lg {
      border-radius: var(--radius);
    }

    .rounded-full {
      border-radius: 9999px;
    }

    .rounded-md {
      border-radius: calc(var(--radius) - 2px);
    }

    .bg-emerald-500 {
      background-color: var(--color-emerald-500);
    }

    .bg-emerald-100 {
      background-color: var(--color-emerald-100);
    }

    .bg-emerald-100\/80 {
      background-color: rgba(209, 250, 229, 0.8);
    }

    .bg-emerald-600 {
      background-color: var(--color-emerald-600);
    }

    .bg-emerald-600\/30 {
      background-color: rgba(5, 150, 105, 0.3);
    }

    .bg-white {
      background-color: var(--color-white);
    }

    .bg-white\/80 {
      background-color: rgba(255, 255, 255, 0.8);
    }

    .bg-red-500 {
      background-color: var(--color-red-500);
    }

    .bg-indigo-700 {
      background-color: var(--color-indigo-700);
    }

    .bg-indigo-800:hover {
      background-color: var(--color-indigo-800);
    }

    .text-white {
      color: var(--color-white);
    }

    .text-black {
      color: var(--color-black);
    }

    .text-purple-900 {
      color: var(--color-purple-900);
    }

    .text-emerald-700 {
      color: var(--color-emerald-700);
    }

    .text-emerald-800 {
      color: var(--color-emerald-800);
    }

    .text-gray-400 {
      color: var(--color-gray-400);
    }

    .text-gray-500 {
      color: var(--color-gray-500);
    }

    .text-red-500 {
      color: var(--color-red-500);
    }

    .text-blue-600 {
      color: var(--color-blue-600);
    }

    .text-xs {
      font-size: 0.75rem;
      line-height: 1rem;
    }

    .text-sm {
      font-size: 0.875rem;
      line-height: 1.25rem;
    }

    .text-lg {
      font-size: 1.125rem;
      line-height: 1.75rem;
    }

    .text-2xl {
      font-size: 1.5rem;
      line-height: 2rem;
    }

    .font-medium {
      font-weight: 500;
    }

    .font-semibold {
      font-weight: 600;
    }

    .font-bold {
      font-weight: 700;
    }

    .text-center {
      text-align: center;
    }

    .underline {
      text-decoration: underline;
    }

    .border {
      border-width: 1px;
      border-style: solid;
      border-color: var(--color-gray-300);
    }

    .border-2 {
      border-width: 2px;
    }

    .border-dashed {
      border-style: dashed;
    }

    .border-gray-300 {
      border-color: var(--color-gray-300);
    }

    .border-red-500 {
      border-color: var(--color-red-500);
    }

    .relative {
      position: relative;
    }

    .absolute {
      position: absolute;
    }

    .top-0 {
      top: 0;
    }

    .right-0 {
      right: 0;
    }

    .top-1 {
      top: 0.25rem;
    }

    .right-1 {
      right: 0.25rem;
    }

    .overflow-y-auto {
      overflow-y: auto;
    }

    .object-contain {
      object-fit: contain;
    }

    .object-cover {
      object-fit: cover;
    }

    .cursor-pointer {
      cursor: pointer;
    }

    .hidden {
      display: none;
    }

    .touch-none {
      touch-action: none;
    }

    input, select, textarea, button {
      font-family: inherit;
      font-size: 100%;
      line-height: 1.15;
      margin: 0;
    }

    button, [role="button"] {
      cursor: pointer;
    }

    input, select {
      width: 100%;
      padding: 0.5rem;
      border-radius: var(--radius);
      border: 1px solid var(--color-gray-300);
    }

    input:focus, select:focus {
      outline: 2px solid var(--color-emerald-500);
      outline-offset: 2px;
    }

    label {
      display: block;
      margin-bottom: 0.25rem;
    }

    button {
      background-color: var(--color-emerald-500);
      color: var(--color-white);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: var(--radius);
      font-weight: 500;
    }

    button:hover {
      background-color: var(--color-emerald-600);
    }

    button.btn-secondary {
      background-color: var(--color-white);
      color: var(--color-black);
      border: 1px solid var(--color-gray-300);
    }

    button.btn-secondary:hover {
      background-color: var(--color-gray-300);
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .checkbox, .radio {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .checkbox input[type="checkbox"], .radio input[type="radio"] {
      width: 1rem;
      height: 1rem;
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      min-width: 200px;
      background-color: var(--color-white);
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      border-radius: var(--radius);
      z-index: 1;
      margin-top: 0.25rem;
      max-height: 300px;
      overflow-y: auto;
    }

    .dropdown-content.show {
      display: block;
    }

    .dropdown-item {
      padding: 0.5rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }

    .dropdown-item:hover {
      background-color: var(--color-emerald-100);
    }

    .calendar-dropdown {
      position: relative;
    }

    .calendar-popup {
      display: none;
      position: absolute;
      z-index: 1;
      background-color: var(--color-white);
      border-radius: var(--radius);
      border: 1px solid var(--color-gray-300);
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      padding: 1rem;
      width: 300px;
    }

    .calendar-popup.show {
      display: block;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .calendar-days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.25rem;
      text-align: center;
    }

    .calendar-day {
      cursor: pointer;
      height: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--radius);
    }

    .calendar-day:hover {
      background-color: var(--color-emerald-100);
    }

    .calendar-day.selected {
      background-color: var(--color-emerald-500);
      color: var(--color-white);
    }

    .calendar-day.disabled {
      color: var(--color-gray-400);
      cursor: not-allowed;
    }

    .time-picker {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
    }

    .count-selector {
      display: flex;
      gap: 0.5rem;
    }

    .count-button {
      width: 3rem;
      height: 3rem;
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.125rem;
      font-weight: 500;
      background-color: var(--color-white);
      color: var(--color-emerald-800);
      border: 1px solid var(--color-gray-300);
    }

    .count-button.selected {
      background-color: var(--color-emerald-600);
      color: var(--color-white);
      border-color: var(--color-emerald-600);
    }

    .upload-container {
      border: 2px dashed var(--color-gray-300);
      border-radius: var(--radius);
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background-color: var(--color-white);
      cursor: pointer;
    }

    .upload-container.error {
      border-color: var(--color-red-500);
    }

    .upload-preview {
      width: 100%;
      display: flex;
      justify-content: center;
      position: relative;
    }

    .upload-preview img {
      max-height: 10rem;
      object-fit: contain;
    }

    .remove-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: var(--color-red-500);
      color: var(--color-white);
      border-radius: 9999px;
      padding: 0.25rem;
      line-height: 0;
    }

    .signature-canvas {
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius);
      background-color: var(--color-white);
      width: 100%;
      height: 150px;
      touch-action: none;
    }

    .signature-canvas.error {
      border-color: var(--color-red-500);
    }

    .image-preview-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
    }

    .image-preview-container {
      position: relative;
    }

    .image-preview-container img {
      width: 100%;
      height: 6rem;
      object-fit: cover;
      border-radius: var(--radius);
    }

    .submit-button {
      background-color: var(--color-indigo-700);
      color: var(--color-white);
      padding: 0.5rem 2rem;
      font-size: 1.125rem;
      border-radius: var(--radius);
    }

    .submit-button:hover {
      background-color: var(--color-indigo-800);
    }

    .error-message {
      color: var(--color-red-500);
      font-size: 0.75rem;
      margin-top: 0.25rem;
    }

    @media (min-width: 768px) {
      .grid-cols-md-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .grid-cols-md-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }

      .grid-cols-md-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }

      .col-span-md-3 {
        grid-column: span 3 / span 3;
      }

      .image-preview-grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .text-md-3xl {
        font-size: 1.875rem;
        line-height: 2.25rem;
      }
    }

    /* Language translations */
    [lang="el-GR"] .translated,
    [lang="de-DE"] .translated,
    [lang="fr-FR"] .translated,
    [lang="it-IT"] .translated,
    [lang="es-ES"] .translated {
      display: none;
    }

    /* Greek translations */
    [lang="el-GR"] .translated.el-GR {
      display: block;
    }
    
    /* German translations */
    [lang="de-DE"] .translated.de-DE {
      display: block;
    }
    
    /* French translations */
    [lang="fr-FR"] .translated.fr-FR {
      display: block;
    }
    
    /* Italian translations */
    [lang="it-IT"] .translated.it-IT {
      display: block;
    }
    
    /* Spanish translations */
    [lang="es-ES"] .translated.es-ES {
      display: block;
    }
  </style>
</head>
<body>
  <main class="container">
    <div class="flex justify-end mb-4">
      <div class="dropdown" id="language-dropdown">
        <button class="flex items-center space-x-2 text-white bg-emerald-600/30 rounded-md px-3 py-1.5">
          <span id="selected-language">🇺🇸 English (US)</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down"><path d="m6 9 6 6 6-6"/></svg>
        </button>
        <div class="dropdown-content" id="language-dropdown-content">
          <div class="dropdown-item" data-lang="en-US" data-flag="🇺🇸" data-name="English (US)">
            <span>🇺🇸</span>
            <span>English (US)</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check ml-auto"><path d="M20 6 9 17l-5-5"/></svg>
          </div>
          <div class="dropdown-item" data-lang="el-GR" data-flag="🇬🇷" data-name="Ελληνικά">
            <span>🇬🇷</span>
            <span>Ελληνικά</span>
          </div>
          <div class="dropdown-item" data-lang="de-DE" data-flag="🇩🇪" data-name="Deutsch">
            <span>🇩🇪</span>
            <span>Deutsch</span>
          </div>
          <div class="dropdown-item" data-lang="fr-FR" data-flag="🇫🇷" data-name="Français">
            <span>🇫🇷</span>
            <span>Français</span>
          </div>
          <div class="dropdown-item" data-lang="it-IT" data-flag="🇮🇹" data-name="Italiano">
            <span>🇮🇹</span>
            <span>Italiano</span>
          </div>
          <div class="dropdown-item" data-lang="es-ES" data-flag="🇪🇸" data-name="Español">
            <span>🇪🇸</span>
            <span>Español</span>
          </div>
        </div>
      </div>
    </div>

    <div class="flex justify-center mb-4">
      <div class="bg-emerald-100 rounded-lg p-4 w-40 h-40 flex items-center justify-center">
        <img src="https://placeholder.svg?height=140&width=140" alt="SeeMe Rolling Logo" class="rounded-full" id="logo-image">
      </div>
    </div>

    <h1 class="text-2xl text-md-3xl font-bold text-center text-purple-900 mb-8 translated en-US">
      SeeMe Rolling E-Bike Rental Agreement
    </h1>
    <h1 class="text-2xl text-md-3xl font-bold text-center text-purple-900 mb-8 translated el-GR hidden">
      Συμφωνία Ενοικίασης Ηλεκτρικού Ποδηλάτου SeeMe Rolling
    </h1>
    <h1 class="text-2xl text-md-3xl font-bold text-center text-purple-900 mb-8 translated de-DE hidden">
      SeeMe Rolling E-Bike Mietvertrag
    </h1>
    <h1 class="text-2xl text-md-3xl font-bold text-center text-purple-900 mb-8 translated fr-FR hidden">
      Contrat de Location de Vélo Électrique SeeMe Rolling
    </h1>
    <h1 class="text-2xl text-md-3xl font-bold text-center text-purple-900 mb-8 translated it-IT hidden">
      Contratto di Noleggio E-Bike SeeMe Rolling
    </h1>
    <h1 class="text-2xl text-md-3xl font-bold text-center text-purple-900 mb-8 translated es-ES hidden">
      Contrato de Alquiler de Bicicleta Eléctrica SeeMe Rolling
    </h1>

    <form id="rental-form" class="space-y-8">
      <!-- Renter Information Section -->
      <div class="bg-emerald-100/80 rounded-lg p-6">
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated en-US">Renter Information</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated el-GR hidden">Πληροφορίες Ενοικιαστή</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated de-DE hidden">Mieter Information</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated fr-FR hidden">Informations du Locataire</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated it-IT hidden">Informazioni sul Cliente</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated es-ES hidden">Información del Arrendatario</h2>

        <div class="grid grid-cols-1 grid-cols-md-3 gap-4 mb-4">
          <div class="space-y-2">
            <label for="firstName" class="text-sm translated en-US">
              First Name <span class="text-red-500">*</span>
            </label>
            <label for="firstName" class="text-sm translated el-GR hidden">
              Όνομα <span class="text-red-500">*</span>
            </label>
            <label for="firstName" class="text-sm translated de-DE hidden">
              Vorname <span class="text-red-500">*</span>
            </label>
            <label for="firstName" class="text-sm translated fr-FR hidden">
              Prénom <span class="text-red-500">*</span>
            </label>
            <label for="firstName" class="text-sm translated it-IT hidden">
              Nome <span class="text-red-500">*</span>
            </label>
            <label for="firstName" class="text-sm translated es-ES hidden">
              Nombre <span class="text-red-500">*</span>
            </label>
            <input type="text" id="firstName" name="firstName" placeholder="First Name" class="bg-white">
            <p id="firstName-error" class="error-message hidden"></p>
          </div>

          <div class="space-y-2">
            <label for="middleName" class="text-sm translated en-US">Middle Name</label>
            <label for="middleName" class="text-sm translated el-GR hidden">Μεσαίο Όνομα</label>
            <label for="middleName" class="text-sm translated de-DE hidden">Zweiter Vorname</label>
            <label for="middleName" class="text-sm translated fr-FR hidden">Deuxième Prénom</label>
            <label for="middleName" class="text-sm translated it-IT hidden">Secondo Nome</label>
            <label for="middleName" class="text-sm translated es-ES hidden">Segundo Nombre</label>
            <input type="text" id="middleName" name="middleName" placeholder="Middle Name" class="bg-white">
          </div>

          <div class="space-y-2">
            <label for="lastName" class="text-sm translated en-US">
              Last Name <span class="text-red-500">*</span>
            </label>
            <label for="lastName" class="text-sm translated el-GR hidden">
              Επώνυμο <span class="text-red-500">*</span>
            </label>
            <label for="lastName" class="text-sm translated de-DE hidden">
              Nachname <span class="text-red-500">*</span>
            </label>
            <label for="lastName" class="text-sm translated fr-FR hidden">
              Nom de Famille <span class="text-red-500">*</span>
            </label>
            <label for="lastName" class="text-sm translated it-IT hidden">
              Cognome <span class="text-red-500">*</span>
            </label>
            <label for="lastName" class="text-sm translated es-ES hidden">
              Apellido <span class="text-red-500">*</span>
            </label>
            <input type="text" id="lastName" name="lastName" placeholder="Last Name" class="bg-white">
            <p id="lastName-error" class="error-message hidden"></p>
          </div>
        </div>

        <div class="space-y-2 mb-4">
          <label for="nationality" class="text-sm translated en-US">
            Nationality <span class="text-red-500">*</span>
          </label>
          <label for="nationality" class="text-sm translated el-GR hidden">
            Εθνικότητα <span class="text-red-500">*</span>
          </label>
          <label for="nationality" class="text-sm translated de-DE hidden">
            Nationalität <span class="text-red-500">*</span>
          </label>
          <label for="nationality" class="text-sm translated fr-FR hidden">
            Nationalité <span class="text-red-500">*</span>
          </label>
          <label for="nationality" class="text-sm translated it-IT hidden">
            Nazionalità <span class="text-red-500">*</span>
          </label>
          <label for="nationality" class="text-sm translated es-ES hidden">
            Nacionalidad <span class="text-red-500">*</span>
          </label>
          <input type="text" id="nationality" name="nationality" placeholder="Nationality" class="bg-white">
          <p id="nationality-error" class="error-message hidden"></p>
        </div>

        <div class="space-y-2 mb-4">
          <label for="email" class="text-sm translated en-US">
            Email <span class="text-red-500">*</span>
          </label>
          <label for="email" class="text-sm translated el-GR hidden">
            Email <span class="text-red-500">*</span>
          </label>
          <label for="email" class="text-sm translated de-DE hidden">
            E-Mail <span class="text-red-500">*</span>
          </label>
          <label for="email" class="text-sm translated fr-FR hidden">
            E-mail <span class="text-red-500">*</span>
          </label>
          <label for="email" class="text-sm translated it-IT hidden">
            Email <span class="text-red-500">*</span>
          </label>
          <label for="email" class="text-sm translated es-ES hidden">
            Correo electrónico <span class="text-red-500">*</span>
          </label>
          <input type="email" id="email" name="email" placeholder="example@example.com" class="bg-white">
          <p id="email-error" class="error-message hidden"></p>
        </div>

        <div class="space-y-2 mb-4">
          <label for="phoneNumber" class="text-sm translated en-US">
            Phone Number <span class="text-red-500">*</span>
          </label>
          <label for="phoneNumber" class="text-sm translated el-GR hidden">
            Αριθμός Τηλεφώνου <span class="text-red-500">*</span>
          </label>
          <label for="phoneNumber" class="text-sm translated de-DE hidden">
            Telefonnummer <span class="text-red-500">*</span>
          </label>
          <label for="phoneNumber" class="text-sm translated fr-FR hidden">
            Numéro de Téléphone <span class="text-red-500">*</span>
          </label>
          <label for="phoneNumber" class="text-sm translated it-IT hidden">
            Numero di Telefono <span class="text-red-500">*</span>
          </label>
          <label for="phoneNumber" class="text-sm translated es-ES hidden">
            Número de Teléfono <span class="text-red-500">*</span>
          </label>
          <div class="grid grid-cols-3 grid-cols-md-4 gap-2">
            <div>
              <div class="dropdown" id="country-dropdown">
                <button type="button" class="btn-secondary w-full flex items-center justify-between" id="country-code-button">
                  <span id="selected-country-code">+1</span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-up-down"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
                </button>
                <div class="dropdown-content" id="country-dropdown-content"></div>
              </div>
              <p class="text-xs mt-1 text-emerald-700 translated en-US">Country Code</p>
              <p class="text-xs mt-1 text-emerald-700 translated el-GR hidden">Κωδικός Χώρας</p>
              <p class="text-xs mt-1 text-emerald-700 translated de-DE hidden">Landesvorwahl</p>
              <p class="text-xs mt-1 text-emerald-700 translated fr-FR hidden">Indicatif Pays</p>
              <p class="text-xs mt-1 text-emerald-700 translated it-IT hidden">Prefisso Nazionale</p>
              <p class="text-xs mt-1 text-emerald-700 translated es-ES hidden">Código de País</p>
            </div>
            <div class="col-span-2 col-span-md-3">
              <input type="text" id="phoneNumber" name="phoneNumber" placeholder="Phone Number" class="bg-white">
              <p class="text-xs mt-1 text-emerald-700 translated en-US">Phone Number</p>
              <p class="text-xs mt-1 text-emerald-700 translated el-GR hidden">Αριθμός Τηλεφώνου</p>
              <p class="text-xs mt-1 text-emerald-700 translated de-DE hidden">Telefonnummer</p>
              <p class="text-xs mt-1 text-emerald-700 translated fr-FR hidden">Numéro de Téléphone</p>
              <p class="text-xs mt-1 text-emerald-700 translated it-IT hidden">Numero di Telefono</p>
              <p class="text-xs mt-1 text-emerald-700 translated es-ES hidden">Número de Teléfono</p>
            </div>
          </div>
          <p id="phoneNumber-error" class="error-message hidden"></p>
        </div>

        <div class="space-y-2 mb-4">
          <label class="text-sm translated en-US">
            Type of Vehicle <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated el-GR hidden">
            Τύπος Οχήματος <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated de-DE hidden">
            Fahrzeugtyp <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated fr-FR hidden">
            Type de Véhicule <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated it-IT hidden">
            Tipo di Veicolo <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated es-ES hidden">
            Tipo de Vehículo <span class="text-red-500">*</span>
          </label>
          <div class="space-y-2" id="vehicle-type-container">
            <div class="radio">
              <input type="radio" id="eScooter" name="vehicleType" value="eScooter">
              <label for="eScooter" class="text-sm font-medium translated en-US">E-Scooter</label>
              <label for="eScooter" class="text-sm font-medium translated el-GR hidden">Ηλεκτρικό Πατίνι</label>
              <label for="eScooter" class="text-sm font-medium translated de-DE hidden">E-Roller</label>
              <label for="eScooter" class="text-sm font-medium translated fr-FR hidden">Trottinette Électrique</label>
              <label for="eScooter" class="text-sm font-medium translated it-IT hidden">Monopattino Elettrico</label>
              <label for="eScooter" class="text-sm font-medium translated es-ES hidden">Patinete Eléctrico</label>
            </div>

            <div class="radio">
              <input type="radio" id="mountainEBike" name="vehicleType" value="mountainEBike">
              <label for="mountainEBike" class="text-sm font-medium translated en-US">Mountain E-Bike</label>
              <label for="mountainEBike" class="text-sm font-medium translated el-GR hidden">Ηλεκτρικό Ποδήλατο Βουνού</label>
              <label for="mountainEBike" class="text-sm font-medium translated de-DE hidden">E-Mountainbike</label>
              <label for="mountainEBike" class="text-sm font-medium translated fr-FR hidden">VTT Électrique</label>
              <label for="mountainEBike" class="text-sm font-medium translated it-IT hidden">Mountain Bike Elettrica</label>
              <label for="mountainEBike" class="text-sm font-medium translated es-ES hidden">Bicicleta Eléctrica de Montaña</label>
            </div>

            <div class="radio">
              <input type="radio" id="trekkingEBike" name="vehicleType" value="trekkingEBike">
              <label for="trekkingEBike" class="text-sm font-medium translated en-US">Trekking E-bike</label>
              <label for="trekkingEBike" class="text-sm font-medium translated el-GR hidden">Ηλεκτρικό Ποδήλατο Trekking</label>
              <label for="trekkingEBike" class="text-sm font-medium translated de-DE hidden">E-Trekkingbike</label>
              <label for="trekkingEBike" class="text-sm font-medium translated fr-FR hidden">Vélo Électrique de Trekking</label>
              <label for="trekkingEBike" class="text-sm font-medium translated it-IT hidden">Bici Elettrica da Trekking</label>
              <label for="trekkingEBike" class="text-sm font-medium translated es-ES hidden">Bicicleta Eléctrica de Trekking</label>
            </div>

            <div class="radio">
              <input type="radio" id="fatTireEBike" name="vehicleType" value="fatTireEBike">
              <label for="fatTireEBike" class="text-sm font-medium translated en-US">Fat Tire E-bike</label>
              <label for="fatTireEBike" class="text-sm font-medium translated el-GR hidden">Ηλεκτρικό Ποδήλατο με Φαρδιά Ελαστικά</label>
              <label for="fatTireEBike" class="text-sm font-medium translated de-DE hidden">Fat Tire E-Bike</label>
              <label for="fatTireEBike" class="text-sm font-medium translated fr-FR hidden">Vélo Électrique à Pneus Larges</label>
              <label for="fatTireEBike" class="text-sm font-medium translated it-IT hidden">Bici Elettrica con Pneumatici Fat</label>
              <label for="fatTireEBike" class="text-sm font-medium translated es-ES hidden">Bicicleta Eléctrica de Neumáticos Anchos</label>
            </div>
          </div>
          <p id="vehicleType-error" class="error-message hidden"></p>
        </div>

        <div class="space-y-2 mb-4">
          <label for="idDocument" class="text-sm translated en-US">
            Passport/ID / DRIVER'S LICENSE <span class="text-red-500">*</span>
          </label>
          <label for="idDocument" class="text-sm translated el-GR hidden">
            Διαβατήριο/Ταυτότητα / ΑΔΕΙΑ ΟΔΗΓΗΣΗΣ <span class="text-red-500">*</span>
          </label>
          <label for="idDocument" class="text-sm translated de-DE hidden">
            Reisepass/Ausweis / FÜHRERSCHEIN <span class="text-red-500">*</span>
          </label>
          <label for="idDocument" class="text-sm translated fr-FR hidden">
            Passeport/CNI / PERMIS DE CONDUIRE <span class="text-red-500">*</span>
          </label>
          <label for="idDocument" class="text-sm translated it-IT hidden">
            Passaporto/Carta d'Identità / PATENTE DI GUIDA <span class="text-red-500">*</span>
          </label>
          <label for="idDocument" class="text-sm translated es-ES hidden">
            Pasaporte/DNI / PERMISO DE CONDUCIR <span class="text-red-500">*</span>
          </label>
          <div class="upload-container" id="id-document-upload">
            <div class="upload-preview hidden" id="id-document-preview-container">
              <img id="id-document-preview" alt="ID Document">
              <button type="button" class="remove-button" id="id-document-remove">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
              </button>
            </div>
            <div id="id-document-placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-upload text-gray-400 mb-2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="M17 8 12 3 7 8"/><path d="M12 3v12"/></svg>
              <p class="text-sm text-gray-500 font-medium translated en-US">Browse Files</p>
              <p class="text-sm text-gray-500 font-medium translated el-GR hidden">Περιήγηση Αρχείων</p>
              <p class="text-sm text-gray-500 font-medium translated de-DE hidden">Dateien durchsuchen</p>
              <p class="text-sm text-gray-500 font-medium translated fr-FR hidden">Parcourir les Fichiers</p>
              <p class="text-sm text-gray-500 font-medium translated it-IT hidden">Sfoglia File</p>
              <p class="text-sm text-gray-500 font-medium translated es-ES hidden">Examinar Archivos</p>
              <p class="text-xs text-gray-400 translated en-US">Drag and drop files here</p>
              <p class="text-xs text-gray-400 translated el-GR hidden">Σύρετε και αποθέστε αρχεία εδώ</p>
              <p class="text-xs text-gray-400 translated de-DE hidden">Dateien hier ablegen</p>
              <p class="text-xs text-gray-400 translated fr-FR hidden">Glisser-déposer les fichiers ici</p>
              <p class="text-xs text-gray-400 translated it-IT hidden">Trascina e rilascia i file qui</p>
              <p class="text-xs text-gray-400 translated es-ES hidden">Arrastre y suelte archivos aquí</p>
            </div>
            <input type="file" id="idDocument" class="hidden" accept="image/*,.pdf">
          </div>
          <p id="idDocument-error" class="error-message hidden"></p>
        </div>
      </div>

      <!-- Rental Period Section -->
      <div class="bg-emerald-100/80 rounded-lg p-6">
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated en-US">Rental Period</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated el-GR hidden">Περίοδος Ενοικίασης</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated de-DE hidden">Mietzeitraum</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated fr-FR hidden">Période de Location</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated it-IT hidden">Periodo di Noleggio</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated es-ES hidden">Período de Alquiler</h2>

        <div class="grid grid-cols-1 grid-cols-md-2 gap-6 mb-4">
          <div class="space-y-2">
            <label class="text-sm translated en-US">
              From <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated el-GR hidden">
              Από <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated de-DE hidden">
              Von <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated fr-FR hidden">
              De <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated it-IT hidden">
              Da <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated es-ES hidden">
              Desde <span class="text-red-500">*</span>
            </label>
            <div class="grid grid-cols-1 gap-2">
              <div>
                <div class="calendar-dropdown" id="from-date-dropdown">
                  <button type="button" class="btn-secondary w-full flex items-center justify-start" id="from-date-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar mr-2"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                    <span id="from-date-text" class="translated en-US">Select date</span>
                    <span id="from-date-text" class="translated el-GR hidden">Επιλογή ημερομηνίας</span>
                    <span id="from-date-text" class="translated de-DE hidden">Datum auswählen</span>
                    <span id="from-date-text" class="translated fr-FR hidden">Sélectionner une date</span>
                    <span id="from-date-text" class="translated it-IT hidden">Seleziona data</span>
                    <span id="from-date-text" class="translated es-ES hidden">Seleccionar fecha</span>
                  </button>
                  <div class="calendar-popup" id="from-calendar-popup"></div>
                </div>
                <p class="text-xs mt-1 text-emerald-700 translated en-US">Date</p>
                <p class="text-xs mt-1 text-emerald-700 translated el-GR hidden">Ημερομηνία</p>
                <p class="text-xs mt-1 text-emerald-700 translated de-DE hidden">Datum</p>
                <p class="text-xs mt-1 text-emerald-700 translated fr-FR hidden">Date</p>
                <p class="text-xs mt-1 text-emerald-700 translated it-IT hidden">Data</p>
                <p class="text-xs mt-1 text-emerald-700 translated es-ES hidden">Fecha</p>
                <p id="fromDate-error" class="error-message hidden"></p>
              </div>

              <div class="calendar-dropdown" id="from-time-dropdown">
                <button type="button" class="btn-secondary w-full flex items-center justify-start" id="from-time-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock mr-2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                  <span id="from-time-text" class="translated en-US">Select time</span>
                  <span id="from-time-text" class="translated el-GR hidden">Επιλογή ώρας</span>
                  <span id="from-time-text" class="translated de-DE hidden">Zeit auswählen</span>
                  <span id="from-time-text" class="translated fr-FR hidden">Sélectionner l'heure</span>
                  <span id="from-time-text" class="translated it-IT hidden">Seleziona ora</span>
                  <span id="from-time-text" class="translated es-ES hidden">Seleccionar hora</span>
                </button>
                <div class="calendar-popup" id="from-time-popup">
                  <div class="time-picker" id="from-time-picker">
                    <select id="from-hours">
                      <option value="01">01</option>
                      <option value="02">02</option>
                      <option value="03">03</option>
                      <option value="04">04</option>
                      <option value="05">05</option>
                      <option value="06">06</option>
                      <option value="07">07</option>
                      <option value="08">08</option>
                      <option value="09">09</option>
                      <option value="10">10</option>
                      <option value="11">11</option>
                      <option value="12" selected>12</option>
                    </select>
                    <select id="from-minutes">
                      <option value="00" selected>00</option>
                      <option value="05">05</option>
                      <option value="10">10</option>
                      <option value="15">15</option>
                      <option value="20">20</option>
                      <option value="25">25</option>
                      <option value="30">30</option>
                      <option value="35">35</option>
                      <option value="40">40</option>
                      <option value="45">45</option>
                      <option value="50">50</option>
                      <option value="55">55</option>
                    </select>
                    <select id="from-period">
                      <option value="AM">AM</option>
                      <option value="PM" selected>PM</option>
                    </select>
                  </div>
                </div>
                <p class="text-xs mt-1 text-emerald-700 translated en-US">Hour Minutes</p>
                <p class="text-xs mt-1 text-emerald-700 translated el-GR hidden">Ώρα Λεπτά</p>
                <p class="text-xs mt-1 text-emerald-700 translated de-DE hidden">Stunde Minuten</p>
                <p class="text-xs mt-1 text-emerald-700 translated fr-FR hidden">Heure Minutes</p>
                <p class="text-xs mt-1 text-emerald-700 translated it-IT hidden">Ora Minuti</p>
                <p class="text-xs mt-1 text-emerald-700 translated es-ES hidden">Hora Minutos</p>
                <p id="fromTime-error" class="error-message hidden"></p>
              </div>
            </div>
          </div>

          <div class="space-y-2">
            <label class="text-sm translated en-US">
              Until <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated el-GR hidden">
              Έως <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated de-DE hidden">
              Bis <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated fr-FR hidden">
              Jusqu'à <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated it-IT hidden">
              Fino a <span class="text-red-500">*</span>
            </label>
            <label class="text-sm translated es-ES hidden">
              Hasta <span class="text-red-500">*</span>
            </label>
            <div class="grid grid-cols-1 gap-2">
              <div>
                <div class="calendar-dropdown" id="until-date-dropdown">
                  <button type="button" class="btn-secondary w-full flex items-center justify-start" id="until-date-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar mr-2"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                    <span id="until-date-text" class="translated en-US">Select date</span>
                    <span id="until-date-text" class="translated el-GR hidden">Επιλογή ημερομηνίας</span>
                    <span id="until-date-text" class="translated de-DE hidden">Datum auswählen</span>
                    <span id="until-date-text" class="translated fr-FR hidden">Sélectionner une date</span>
                    <span id="until-date-text" class="translated it-IT hidden">Seleziona data</span>
                    <span id="until-date-text" class="translated es-ES hidden">Seleccionar fecha</span>
                  </button>
                  <div class="calendar-popup" id="until-calendar-popup"></div>
                </div>
                <p class="text-xs mt-1 text-emerald-700 translated en-US">Date</p>
                <p class="text-xs mt-1 text-emerald-700 translated el-GR hidden">Ημερομηνία</p>
                <p class="text-xs mt-1 text-emerald-700 translated de-DE hidden">Datum</p>
                <p class="text-xs mt-1 text-emerald-700 translated fr-FR hidden">Date</p>
                <p class="text-xs mt-1 text-emerald-700 translated it-IT hidden">Data</p>
                <p class="text-xs mt-1 text-emerald-700 translated es-ES hidden">Fecha</p>
                <p id="untilDate-error" class="error-message hidden"></p>
              </div>

              <div class="calendar-dropdown" id="until-time-dropdown">
                <button type="button" class="btn-secondary w-full flex items-center justify-start" id="until-time-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock mr-2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                  <span id="until-time-text" class="translated en-US">Select time</span>
                  <span id="until-time-text" class="translated el-GR hidden">Επιλογή ώρας</span>
                  <span id="until-time-text" class="translated de-DE hidden">Zeit auswählen</span>
                  <span id="until-time-text" class="translated fr-FR hidden">Sélectionner l'heure</span>
                  <span id="until-time-text" class="translated it-IT hidden">Seleziona ora</span>
                  <span id="until-time-text" class="translated es-ES hidden">Seleccionar hora</span>
                </button>
                <div class="calendar-popup" id="until-time-popup">
                  <div class="time-picker" id="until-time-picker">
                    <select id="until-hours">
                      <option value="01">01</option>
                      <option value="02">02</option>
                      <option value="03">03</option>
                      <option value="04">04</option>
                      <option value="05">05</option>
                      <option value="06">06</option>
                      <option value="07">07</option>
                      <option value="08">08</option>
                      <option value="09">09</option>
                      <option value="10">10</option>
                      <option value="11">11</option>
                      <option value="12" selected>12</option>
                    </select>
                    <select id="until-minutes">
                      <option value="00" selected>00</option>
                      <option value="05">05</option>
                      <option value="10">10</option>
                      <option value="15">15</option>
                      <option value="20">20</option>
                      <option value="25">25</option>
                      <option value="30">30</option>
                      <option value="35">35</option>
                      <option value="40">40</option>
                      <option value="45">45</option>
                      <option value="50">50</option>
                      <option value="55">55</option>
                    </select>
                    <select id="until-period">
                      <option value="AM">AM</option>
                      <option value="PM" selected>PM</option>
                    </select>
                  </div>
                </div>
                <p class="text-xs mt-1 text-emerald-700 translated en-US">Hour Minutes</p>
                <p class="text-xs mt-1 text-emerald-700 translated el-GR hidden">Ώρα Λεπτά</p>
                <p class="text-xs mt-1 text-emerald-700 translated de-DE hidden">Stunde Minuten</p>
                <p class="text-xs mt-1 text-emerald-700 translated fr-FR hidden">Heure Minutes</p>
                <p class="text-xs mt-1 text-emerald-700 translated it-IT hidden">Ora Minuti</p>
                <p class="text-xs mt-1 text-emerald-700 translated es-ES hidden">Hora Minutos</p>
                <p id="untilTime-error" class="error-message hidden"></p>
              </div>
            </div>
          </div>
        </div>

        <div class="space-y-2 mb-4">
          <label class="text-sm translated en-US">
            Vehicle Condition Before Rental <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated el-GR hidden">
            Κατάσταση Οχήματος Πριν την Ενοικίαση <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated de-DE hidden">
            Fahrzeugzustand vor der Vermietung <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated fr-FR hidden">
            État du Véhicule Avant Location <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated it-IT hidden">
            Condizione del Veicolo Prima del Noleggio <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated es-ES hidden">
            Condición del Vehículo Antes del Alquiler <span class="text-red-500">*</span>
          </label>
          <div class="upload-container" id="vehicle-condition-upload">
            <div id="vehicle-condition-previews" class="image-preview-grid hidden"></div>
            <div id="vehicle-condition-placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-upload text-gray-400 mb-2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="M17 8 12 3 7 8"/><path d="M12 3v12"/></svg>
              <p class="text-sm text-gray-500 font-medium translated en-US">Browse Files</p>
              <p class="text-sm text-gray-500 font-medium translated el-GR hidden">Περιήγηση Αρχείων</p>
              <p class="text-sm text-gray-500 font-medium translated de-DE hidden">Dateien durchsuchen</p>
              <p class="text-sm text-gray-500 font-medium translated fr-FR hidden">Parcourir les Fichiers</p>
              <p class="text-sm text-gray-500 font-medium translated it-IT hidden">Sfoglia File</p>
              <p class="text-sm text-gray-500 font-medium translated es-ES hidden">Examinar Archivos</p>
              <p class="text-xs text-gray-400 translated en-US">Drag and drop multiple images here</p>
              <p class="text-xs text-gray-400 translated el-GR hidden">Σύρετε και αποθέστε πολλαπλές εικόνες εδώ</p>
              <p class="text-xs text-gray-400 translated de-DE hidden">Mehrere Bilder hier ablegen</p>
              <p class="text-xs text-gray-400 translated fr-FR hidden">Glisser-déposer plusieurs images ici</p>
              <p class="text-xs text-gray-400 translated it-IT hidden">Trascina e rilascia più immagini qui</p>
              <p class="text-xs text-gray-400 translated es-ES hidden">Arrastre y suelte múltiples imágenes aquí</p>
            </div>
            <input type="file" id="vehicleCondition" class="hidden" accept="image/*" multiple>
          </div>
          <p id="vehicleCondition-error" class="error-message hidden"></p>
        </div>
      </div>

      <!-- Accessories Section -->
      <div class="bg-emerald-100/80 rounded-lg p-6">
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated en-US">Accessories</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated el-GR hidden">Αξεσουάρ</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated de-DE hidden">Zubehör</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated fr-FR hidden">Accessoires</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated it-IT hidden">Accessori</h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 translated es-ES hidden">Accesorios</h2>

        <div class="space-y-6">
          <div>
            <label class="text-sm mb-2 block translated en-US">Helmet</label>
            <label class="text-sm mb-2 block translated el-GR hidden">Κράνος</label>
            <label class="text-sm mb-2 block translated de-DE hidden">Helm</label>
            <label class="text-sm mb-2 block translated fr-FR hidden">Casque</label>
            <label class="text-sm mb-2 block translated it-IT hidden">Casco</label>
            <label class="text-sm mb-2 block translated es-ES hidden">Casco</label>
            <div class="count-selector">
              <button type="button" class="count-button" data-accessory="helmet" data-count="0">0</button>
              <button type="button" class="count-button" data-accessory="helmet" data-count="1">1</button>
              <button type="button" class="count-button" data-accessory="helmet" data-count="2">2</button>
              <button type="button" class="count-button" data-accessory="helmet" data-count="3">3</button>
              <button type="button" class="count-button" data-accessory="helmet" data-count="4">4</button>
              <button type="button" class="count-button" data-accessory="helmet" data-count="5">5</button>
            </div>
          </div>

          <div>
            <label class="text-sm mb-2 block translated en-US">Lock</label>
            <label class="text-sm mb-2 block translated el-GR hidden">Κλειδαριά</label>
            <label class="text-sm mb-2 block translated de-DE hidden">Schloss</label>
            <label class="text-sm mb-2 block translated fr-FR hidden">Cadenas</label>
            <label class="text-sm mb-2 block translated it-IT hidden">Lucchetto</label>
            <label class="text-sm mb-2 block translated es-ES hidden">Candado</label>
            <div class="count-selector">
              <button type="button" class="count-button" data-accessory="lock" data-count="0">0</button>
              <button type="button" class="count-button" data-accessory="lock" data-count="1">1</button>
              <button type="button" class="count-button" data-accessory="lock" data-count="2">2</button>
              <button type="button" class="count-button" data-accessory="lock" data-count="3">3</button>
              <button type="button" class="count-button" data-accessory="lock" data-count="4">4</button>
              <button type="button" class="count-button" data-accessory="lock" data-count="5">5</button>
            </div>
          </div>

          <div>
            <label class="text-sm mb-2 block translated en-US">Elastic Straps</label>
            <label class="text-sm mb-2 block translated el-GR hidden">Ελαστικοί Ιμάντες</label>
            <label class="text-sm mb-2 block translated de-DE hidden">Elastische Gurte</label>
            <label class="text-sm mb-2 block translated fr-FR hidden">Sangles Élastiques</label>
            <label class="text-sm mb-2 block translated it-IT hidden">Cinghie Elastiche</label>
            <label class="text-sm mb-2 block translated es-ES hidden">Correas Elásticas</label>
            <div class="count-selector">
              <button type="button" class="count-button" data-accessory="elasticStraps" data-count="0">0</button>
              <button type="button" class="count-button" data-accessory="elasticStraps" data-count="1">1</button>
              <button type="button" class="count-button" data-accessory="elasticStraps" data-count="2">2</button>
              <button type="button" class="count-button" data-accessory="elasticStraps" data-count="3">3</button>
              <button type="button" class="count-button" data-accessory="elasticStraps" data-count="4">4</button>
              <button type="button" class="count-button" data-accessory="elasticStraps" data-count="5">5</button>
            </div>
          </div>

          <div>
            <label class="text-sm mb-2 block translated en-US">Other Accessories</label>
            <label class="text-sm mb-2 block translated el-GR hidden">Άλλα Αξεσουάρ</label>
            <label class="text-sm mb-2 block translated de-DE hidden">Sonstiges Zubehör</label>
            <label class="text-sm mb-2 block translated fr-FR hidden">Autres Accessoires</label>
            <label class="text-sm mb-2 block translated it-IT hidden">Altri Accessori</label>
            <label class="text-sm mb-2 block translated es-ES hidden">Otros Accesorios</label>
            <div class="grid grid-cols-1 grid-cols-md-2 gap-3">
              <div class="checkbox">
                <input type="checkbox" id="bikeMirror" name="otherAccessories" value="bikeMirror">
                <label for="bikeMirror" class="text-sm font-medium leading-none translated en-US">Bike Mirror</label>
                <label for="bikeMirror" class="text-sm font-medium leading-none translated el-GR hidden">Καθρέφτης Ποδηλάτου</label>
                <label for="bikeMirror" class="text-sm font-medium leading-none translated de-DE hidden">Fahrradspiegel</label>
                <label for="bikeMirror" class="text-sm font-medium leading-none translated fr-FR hidden">Rétroviseur de Vélo</label>
                <label for="bikeMirror" class="text-sm font-medium leading-none translated it-IT hidden">Specchietto Bici</label>
                <label for="bikeMirror" class="text-sm font-medium leading-none translated es-ES hidden">Espejo de Bicicleta</label>
              </div>

              <div class="checkbox">
                <input type="checkbox" id="phoneMount" name="otherAccessories" value="phoneMount">
                <label for="phoneMount" class="text-sm font-medium leading-none translated en-US">Phone Mount</label>
                <label for="phoneMount" class="text-sm font-medium leading-none translated el-GR hidden">Βάση Τηλεφώνου</label>
                <label for="phoneMount" class="text-sm font-medium leading-none translated de-DE hidden">Telefonhalterung</label>
                <label for="phoneMount" class="text-sm font-medium leading-none translated fr-FR hidden">Support de Téléphone</label>
                <label for="phoneMount" class="text-sm font-medium leading-none translated it-IT hidden">Supporto per Telefono</label>
                <label for="phoneMount" class="text-sm font-medium leading-none translated es-ES hidden">Soporte para Teléfono</label>
              </div>

              <div class="checkbox">
                <input type="checkbox" id="charger" name="otherAccessories" value="charger">
                <label for="charger" class="text-sm font-medium leading-none translated en-US">Charger</label>
                <label for="charger" class="text-sm font-medium leading-none translated el-GR hidden">Φορτιστής</label>
                <label for="charger" class="text-sm font-medium leading-none translated de-DE hidden">Ladegerät</label>
                <label for="charger" class="text-sm font-medium leading-none translated fr-FR hidden">Chargeur</label>
                <label for="charger" class="text-sm font-medium leading-none translated it-IT hidden">Caricabatterie</label>
                <label for="charger" class="text-sm font-medium leading-none translated es-ES hidden">Cargador</label>
              </div>

              <div class="checkbox">
                <input type="checkbox" id="batteryKey" name="otherAccessories" value="batteryKey">
                <label for="batteryKey" class="text-sm font-medium leading-none translated en-US">Battery Key</label>
                <label for="batteryKey" class="text-sm font-medium leading-none translated el-GR hidden">Κλειδί Μπαταρίας</label>
                <label for="batteryKey" class="text-sm font-medium leading-none translated de-DE hidden">Batterieschlüssel</label>
                <label for="batteryKey" class="text-sm font-medium leading-none translated fr-FR hidden">Clé de Batterie</label>
                <label for="batteryKey" class="text-sm font-medium leading-none translated it-IT hidden">Chiave della Batteria</label>
                <label for="batteryKey" class="text-sm font-medium leading-none translated es-ES hidden">Llave de Batería</label>
              </div>

              <div class="checkbox">
                <input type="checkbox" id="babySeat" name="otherAccessories" value="babySeat">
                <label for="babySeat" class="text-sm font-medium leading-none translated en-US">Baby Seat</label>
                <label for="babySeat" class="text-sm font-medium leading-none translated el-GR hidden">Παιδικό Κάθισμα</label>
                <label for="babySeat" class="text-sm font-medium leading-none translated de-DE hidden">Kindersitz</label>
                <label for="babySeat" class="text-sm font-medium leading-none translated fr-FR hidden">Siège Bébé</label>
                <label for="babySeat" class="text-sm font-medium leading-none translated it-IT hidden">Seggiolino per Bambini</label>
                <label for="babySeat" class="text-sm font-medium leading-none translated es-ES hidden">Asiento para Bebé</label>
              </div>

              <div class="checkbox">
                <input type="checkbox" id="bikeBasket" name="otherAccessories" value="bikeBasket">
                <label for="bikeBasket" class="text-sm font-medium leading-none translated en-US">Bike Basket</label>
                <label for="bikeBasket" class="text-sm font-medium leading-none translated el-GR hidden">Καλάθι Ποδηλάτου</label>
                <label for="bikeBasket" class="text-sm font-medium leading-none translated de-DE hidden">Fahrradkorb</label>
                <label for="bikeBasket" class="text-sm font-medium leading-none translated fr-FR hidden">Panier de Vélo</label>
                <label for="bikeBasket" class="text-sm font-medium leading-none translated it-IT hidden">Cestino per Bici</label>
                <label for="bikeBasket" class="text-sm font-medium leading-none translated es-ES hidden">Cesta de Bicicleta</label>
              </div>

              <div class="checkbox">
                <input type="checkbox" id="seatCushion" name="otherAccessories" value="seatCushion">
                <label for="seatCushion" class="text-sm font-medium leading-none translated en-US">Seat Cushion</label>
                <label for="seatCushion" class="text-sm font-medium leading-none translated el-GR hidden">Μαξιλάρι Καθίσματος</label>
                <label for="seatCushion" class="text-sm font-medium leading-none translated de-DE hidden">Sitzkissen</label>
                <label for="seatCushion" class="text-sm font-medium leading-none translated fr-FR hidden">Coussin de Siège</label>
                <label for="seatCushion" class="text-sm font-medium leading-none translated it-IT hidden">Cuscino per Sedile</label>
                <label for="seatCushion" class="text-sm font-medium leading-none translated es-ES hidden">Cojín de Asiento</label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Terms and Conditions Section -->
      <div class="bg-emerald-100/80 rounded-lg p-6">
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 text-center translated en-US">
          TERMS AND CONDITIONS OF VEHICLE RENTAL
        </h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 text-center translated el-GR hidden">
          ΟΡΟΙ ΚΑΙ ΠΡΟΫΠΟΘΕΣΕΙΣ ΕΝΟΙΚΙΑΣΗΣ ΟΧΗΜΑΤΟΣ
        </h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 text-center translated de-DE hidden">
          ALLGEMEINE GESCHÄFTSBEDINGUNGEN FÜR DIE FAHRZEUGMIETE
        </h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 text-center translated fr-FR hidden">
          CONDITIONS GÉNÉRALES DE LOCATION DE VÉHICULE
        </h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 text-center translated it-IT hidden">
          TERMINI E CONDIZIONI DI NOLEGGIO DEL VEICOLO
        </h2>
        <h2 class="text-lg font-semibold mb-4 text-emerald-800 text-center translated es-ES hidden">
          TÉRMINOS Y CONDICIONES DE ALQUILER DE VEHÍCULOS
        </h2>

        <div class="bg-white/80 rounded-lg p-4 mb-4 max-h-60 overflow-y-auto">
          <p class="text-sm">
            - Only the person(s) referred to in the agreement will be permitted to drive the vehicle(s).In case any
            vehicle is to be used by an underaged, specifically (15-17) years old for the e-bikes or (12-17) for the
            scooters, then this contract is the written consent of the parent/legal guardian. More on the corresponding
            section below.*
            <br />
            <br />
            -The renter is responsible for any breaking of traffic laws: wrong parking, fast driving etc.
            <br />
            <br />- It is strictly forbidden to ride any bicycle/scouter off-road, to ride any bicycle/scouter on the
            beach and to ride any bicycle/scouter with more than one person at the same time.
            <br />
            <br />- The renter will return the vehicle concerned with all tools, accessories and equipment to the store
            in the city where the vehicle was rented or as otherwise specified on the undersigned page of the agreement.
            Prolongation of rental period is under the owner's approval and without it the renter will be charged
            accordingly.
            <br />
            <br />- The renter is obliged to return the vehicle batteries fully charged, if the rental period is at
            least a day. Otherwise there will be an additional charge of 5 euros for each battery.
            <br />
            <br />- The owner reserves the right to repossess the vehicle at any time without demand, at customer's
            expense, if the vehicle is used in violation of this agreement.
            <br />
            <br />- The renter who wishes to remove the vehicle from the island of Symi, has to have written consent
            from the owner.
            <br />
            <br />
            -Each vehicle that is rented for 5+ hours must be returned at 11:00 AM of the day that the renting period
            ends.
            <br />
            <br />
            <strong>Vehicle condition/Maintenance Responsibility</strong>
            <br />
            <br />- The renter confirms hereby that before taking delivery of the vehicle he has examined it and found
            it without any damages, except of those shown on the remarks (1st page).
            <br />
            <br />- The renter confirms that he received demonstration/instructions of the proper use of the vehicle.
            This demonstration covers all aspects of safe vehicle operation, the renter's maintenance responsibilities,
            local and state laws. Also the renter was offered a safety helmet and it is the renter's own choice if the
            renter did not accept it.
            <br />
            <br />- The renter agrees to take care of the vehicle, and holds responsibility for checking the vehicle's
            health and reporting mechanical failures immediately, even when it is not in use. Renter may be held
            responsible for mechanical damage due to negligence in vehicle operation or failure to provide normal
            maintenance.
            <br />
            <br />- In case of breakdown or mechanical damage the customer is responsible for transporting the vehicle
            back to the store. If it is not possible then the store should be informed of the exact location and will
            arrange a collection for which the customer is obliged to pay. The customer will also be charged for any
            damage made to the vehicle(s).
            <br />
            <br />- All bicycles/scooters can be locked, you may ask at the shop station for an extra lock or chain for
            additional security, our insurance does not cover theft, and so in such a case the renter will be charged
            for the vehicle or parts of it being stolen.
            <br />
            <br />
            -The terms are governed by and interpreted in accordance with Greek law. In case of any disagreement between
            the contracted parties the Greek courts only will do justice.
            <br />
            <br />
            -With this contract the store rents to the undersigned renter the vehicle described on the first page of
            this agreement, terms and conditions have been read and accepted by the signed renter.
          </p>
        </div>

        <div class="checkbox mb-4">
          <input type="checkbox" id="termsAgreed" name="termsAgreed">
          <label for="termsAgreed" class="text-sm font-medium translated en-US">
            I have read and agreed to the <a href="#" class="text-blue-600 underline">terms & conditions</a> <span class="text-red-500">*</span>
          </label>
          <label for="termsAgreed" class="text-sm font-medium translated el-GR hidden">
            Έχω διαβάσει και συμφωνώ με τους <a href="#" class="text-blue-600 underline">όρους & προϋποθέσεις</a> <span class="text-red-500">*</span>
          </label>
          <label for="termsAgreed" class="text-sm font-medium translated de-DE hidden">
            Ich habe die <a href="#" class="text-blue-600 underline">Allgemeinen Geschäftsbedingungen</a> gelesen und stimme ihnen zu <span class="text-red-500">*</span>
          </label>
          <label for="termsAgreed" class="text-sm font-medium translated fr-FR hidden">
            J'ai lu et j'accepte les <a href="#" class="text-blue-600 underline">termes et conditions</a> <span class="text-red-500">*</span>
          </label>
          <label for="termsAgreed" class="text-sm font-medium translated it-IT hidden">
            Ho letto e accetto i <a href="#" class="text-blue-600 underline">termini e condizioni</a> <span class="text-red-500">*</span>
          </label>
          <label for="termsAgreed" class="text-sm font-medium translated es-ES hidden">
            He leído y acepto los <a href="#" class="text-blue-600 underline">términos y condiciones</a> <span class="text-red-500">*</span>
          </label>
        </div>
        <p id="termsAgreed-error" class="error-message hidden"></p>

        <div class="space-y-2 mb-4">
          <label class="text-sm translated en-US">Is there any underaged person participating?</label>
          <label class="text-sm translated el-GR hidden">Υπάρχει ανήλικο άτομο που συμμετέχει;</label>
          <label class="text-sm translated de-DE hidden">Nimmt eine minderjährige Person teil?</label>
          <label class="text-sm translated fr-FR hidden">Y a-t-il une personne mineure qui participe?</label>
          <label class="text-sm translated it-IT hidden">C'è un minorenne che partecipa?</label>
          <label class="text-sm translated es-ES hidden">¿Hay algún menor de edad participando?</label>
          <div class="flex space-x-4">
            <div class="radio">
              <input type="radio" id="underage-yes" name="underagedPerson" value="yes">
              <label for="underage-yes" class="text-sm translated en-US">Yes</label>
              <label for="underage-yes" class="text-sm translated el-GR hidden">Ναι</label>
              <label for="underage-yes" class="text-sm translated de-DE hidden">Ja</label>
              <label for="underage-yes" class="text-sm translated fr-FR hidden">Oui</label>
              <label for="underage-yes" class="text-sm translated it-IT hidden">Sì</label>
              <label for="underage-yes" class="text-sm translated es-ES hidden">Sí</label>
            </div>
            <div class="radio">
              <input type="radio" id="underage-no" name="underagedPerson" value="no" checked>
              <label for="underage-no" class="text-sm translated en-US">No</label>
              <label for="underage-no" class="text-sm translated el-GR hidden">Όχι</label>
              <label for="underage-no" class="text-sm translated de-DE hidden">Nein</label>
              <label for="underage-no" class="text-sm translated fr-FR hidden">Non</label>
              <label for="underage-no" class="text-sm translated it-IT hidden">No</label>
              <label for="underage-no" class="text-sm translated es-ES hidden">No</label>
            </div>
          </div>
        </div>

        <div class="space-y-2 mb-4">
          <label class="text-sm translated en-US">Owner's signature:</label>
          <label class="text-sm translated el-GR hidden">Υπογραφή Ιδιοκτήτη:</label>
          <label class="text-sm translated de-DE hidden">Unterschrift des Eigentümers:</label>
          <label class="text-sm translated fr-FR hidden">Signature du Propriétaire:</label>
          <label class="text-sm translated it-IT hidden">Firma del Proprietario:</label>
          <label class="text-sm translated es-ES hidden">Firma del Propietario:</label>
          <div class="border border-gray-300 rounded-lg bg-white p-2 flex justify-center">
            <img src="https://placeholder.svg?height=100&width=300" alt="Owner's signature" class="h-[100px] object-contain" id="owner-signature">
          </div>
        </div>

        <div class="space-y-2 mb-4">
          <label class="text-sm translated en-US">
            Participant's signature <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated el-GR hidden">
            Υπογραφή Συμμετέχοντα <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated de-DE hidden">
            Unterschrift des Teilnehmers <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated fr-FR hidden">
            Signature du Participant <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated it-IT hidden">
            Firma del Partecipante <span class="text-red-500">*</span>
          </label>
          <label class="text-sm translated es-ES hidden">
            Firma del Participante <span class="text-red-500">*</span>
          </label>
          <div class="signature-canvas" id="participant-signature-pad">
            <canvas id="signature-canvas" width="600" height="150"></canvas>
          </div>
          <div class="flex justify-end">
            <button type="button" class="btn-secondary" id="clear-signature">
              <span class="translated en-US">Clear</span>
              <span class="translated el-GR hidden">Καθαρισμός</span>
              <span class="translated de-DE hidden">Löschen</span>
              <span class="translated fr-FR hidden">Effacer</span>
              <span class="translated it-IT hidden">Cancella</span>
              <span class="translated es-ES hidden">Borrar</span>
            </button>
          </div>
          <p id="participantSignature-error" class="error-message hidden"></p>
        </div>
      </div>

      <div class="flex justify-end">
        <button type="submit" class="submit-button" id="submit-button">
          <span class="translated en-US">Submit</span>
          <span class="translated el-GR hidden">Υποβολή</span>
          <span class="translated de-DE hidden">Absenden</span>
          <span class="translated fr-FR hidden">Soumettre</span>
          <span class="translated it-IT hidden">Invia</span>
          <span class="translated es-ES hidden">Enviar</span>
        </button>
      </div>
    </form>
  </main>

  <script>
    // Form data storage
    const formData = {
      firstName: "",
      middleName: "",
      lastName: "",
      nationality: "",
      email: "",
      countryCode: "+1",
      phoneNumber: "",
      vehicleType: "",
      idDocument: null,
      idDocumentPreview: "",
      fromDate: null,
      fromTime: "",
      untilDate: null,
      untilTime: "",
      vehicleConditionImages: [],
      vehicleConditionPreviews: [],
      accessories: {
        helmet: 0,
        lock: 0,
        elasticStraps: 0,
      },
      otherAccessories: {
        bikeMirror: false,
        charger: false,
        babySeat: false,
        seatCushion: false,
        phoneMount: false,
        batteryKey: false,
        bikeBasket: false,
      },
      termsAgreed: false,
      underagedPerson: "no",
      participantSignature: "",
    };

    // Error tracking
    const errors = {};

    // Language selection
    const languageDropdown = document.getElementById('language-dropdown');
    const languageDropdownContent = document.getElementById('language-dropdown-content');
    const selectedLanguage = document.getElementById('selected-language');
    const languageItems = document.querySelectorAll('#language-dropdown-content .dropdown-item');
    
    // Toggle language dropdown
    languageDropdown.querySelector('button').addEventListener('click', function() {
      languageDropdownContent.classList.toggle('show');
    });

    // Close the dropdown if clicked outside
    document.addEventListener('click', function(event) {
      if (!languageDropdown.contains(event.target)) {
        languageDropdownContent.classList.remove('show');
      }
    });

    // Language selection
    languageItems.forEach(item => {
      item.addEventListener('click', function() {
        const lang = this.getAttribute('data-lang');
        const flag = this.getAttribute('data-flag');
        const name = this.getAttribute('data-name');
        
        selectedLanguage.textContent = `${flag} ${name}`;
        document.documentElement.lang = lang;
        
        // Update check mark
        languageItems.forEach(i => {
          const check = i.querySelector('.lucide-check');
          if (check) {
            check.classList.add('ml-auto');
            if (i === this) {
              check.style.display = 'inline';
            } else {
              check.style.display = 'none';
            }
          }
        });
        
        languageDropdownContent.classList.remove('show');
      });
    });

    // Country code dropdown
    const countries = [
      { value: "+1", label: "🇺🇸 United States (+1)" },
      { value: "+44", label: "🇬🇧 United Kingdom (+44)" },
      { value: "+49", label: "🇩🇪 Germany (+49)" },
      { value: "+33", label: "🇫🇷 France (+33)" },
      { value: "+39", label: "🇮🇹 Italy (+39)" },
      { value: "+34", label: "🇪🇸 Spain (+34)" },
      { value: "+31", label: "🇳🇱 Netherlands (+31)" },
      { value: "+30", label: "🇬🇷 Greece (+30)" },
      { value: "+86", label: "🇨🇳 China (+86)" },
      { value: "+91", label: "🇮🇳 India (+91)" },
      { value: "+81", label: "🇯🇵 Japan (+81)" },
      { value: "+82", label: "🇰🇷 South Korea (+82)" },
      { value: "+61", label: "🇦🇺 Australia (+61)" },
      { value: "+64", label: "🇳🇿 New Zealand (+64)" },
      { value: "+52", label: "🇲🇽 Mexico (+52)" },
      { value: "+55", label: "🇧🇷 Brazil (+55)" },
      { value: "+7", label: "🇷🇺 Russia (+7)" },
      { value: "+27", label: "🇿🇦 South Africa (+27)" },
      { value: "+20", label: "🇪🇬 Egypt (+20)" },
      { value: "+971", label: "🇦🇪 United Arab Emirates (+971)" },
      { value: "+966", label: "🇸🇦 Saudi Arabia (+966)" },
      { value: "+65", label: "🇸🇬 Singapore (+65)" },
      { value: "+60", label: "🇲🇾 Malaysia (+60)" },
      { value: "+66", label: "🇹🇭 Thailand (+66)" },
      { value: "+84", label: "🇻🇳 Vietnam (+84)" },
      { value: "+62", label: "🇮🇩 Indonesia (+62)" },
      { value: "+63", label: "🇵🇭 Philippines (+63)" },
      { value: "+90", label: "🇹🇷 Turkey (+90)" },
      { value: "+48", label: "🇵🇱 Poland (+48)" },
      { value: "+46", label: "🇸🇪 Sweden (+46)" },
    ];

    const countryDropdown = document.getElementById('country-dropdown');
    const countryDropdownContent = document.getElementById('country-dropdown-content');
    const countryCodeButton = document.getElementById('country-code-button');
    const selectedCountryCode = document.getElementById('selected-country-code');
    
    // Build country dropdown
    countries.forEach(country => {
      const item = document.createElement('div');
      item.classList.add('dropdown-item');
      item.setAttribute('data-value', country.value);
      
      const check = document.createElement('span');
      check.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check ml-auto"><path d="M20 6 9 17l-5-5"/></svg>`;
      check.style.display = country.value === formData.countryCode ? 'inline' : 'none';
      
      item.innerHTML = country.label;
      item.appendChild(check);
      
      item.addEventListener('click', function() {
        formData.countryCode = country.value;
        selectedCountryCode.textContent = country.value;
        
        const allChecks = countryDropdownContent.querySelectorAll('.lucide-check');
        allChecks.forEach(c => c.style.display = 'none');
        check.style.display = 'inline';
        
        countryDropdownContent.classList.remove('show');
      });
      
      countryDropdownContent.appendChild(item);
    });
    
    // Toggle country dropdown
    countryCodeButton.addEventListener('click', function() {
      countryDropdownContent.classList.toggle('show');
    });
    
    // Close the dropdown if clicked outside
    document.addEventListener('click', function(event) {
      if (!countryDropdown.contains(event.target)) {
        countryDropdownContent.classList.remove('show');
      }
    });

    // Calendar functionality
    function createCalendar(elementId, date, onSelect) {
      const calendarEl = document.getElementById(elementId);
      const today = new Date();
      const currentMonth = date ? new Date(date) : new Date();
      currentMonth.setDate(1); // Set to first day of month
      
      // Clear previous content
      calendarEl.innerHTML = '';
      
      // Create header
      const header = document.createElement('div');
      header.className = 'calendar-header';
      
      const prevBtn = document.createElement('button');
      prevBtn.type = 'button';
      prevBtn.innerHTML = '&lt;';
      prevBtn.className = 'btn-secondary';
      prevBtn.addEventListener('click', function() {
        currentMonth.setMonth(currentMonth.getMonth() - 1);
        createCalendar(elementId, currentMonth, onSelect);
      });
      
      const nextBtn = document.createElement('button');
      nextBtn.type = 'button';
      nextBtn.innerHTML = '&gt;';
      nextBtn.className = 'btn-secondary';
      nextBtn.addEventListener('click', function() {
        currentMonth.setMonth(currentMonth.getMonth() + 1);
        createCalendar(elementId, currentMonth, onSelect);
      });
      
      const monthYear = document.createElement('div');
      monthYear.textContent = `${currentMonth.toLocaleString('default', { month: 'long' })} ${currentMonth.getFullYear()}`;
      
      header.appendChild(prevBtn);
      header.appendChild(monthYear);
      header.appendChild(nextBtn);
      calendarEl.appendChild(header);
      
      // Create days of week header
      const daysOfWeek = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];
      const daysHeader = document.createElement('div');
      daysHeader.className = 'calendar-days';
      
      daysOfWeek.forEach(day => {
        const dayEl = document.createElement('div');
        dayEl.textContent = day;
        dayEl.className = 'calendar-day';
        daysHeader.appendChild(dayEl);
      });
      
      calendarEl.appendChild(daysHeader);
      
      // Create date grid
      const dateGrid = document.createElement('div');
      dateGrid.className = 'calendar-days';
      
      // Calculate first day of month offset
      const firstDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);
      const startOffset = firstDay.getDay();
      
      // Calculate days in month
      const daysInMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0).getDate();
      
      // Create empty cells for previous month days
      for (let i = 0; i < startOffset; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.className = 'calendar-day disabled';
        dateGrid.appendChild(emptyCell);
      }
      
      // Create cells for current month
      for (let i = 1; i <= daysInMonth; i++) {
        const dateCell = document.createElement('div');
        dateCell.textContent = i;
        dateCell.className = 'calendar-day';
        
        const cellDate = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), i);
        
        // Check if this date is selected
        if (date && 
            cellDate.getDate() === date.getDate() && 
            cellDate.getMonth() === date.getMonth() && 
            cellDate.getFullYear() === date.getFullYear()) {
          dateCell.classList.add('selected');
        }
        
        // Check if date is in the past
        if (cellDate < new Date(today.getFullYear(), today.getMonth(), today.getDate())) {
          dateCell.classList.add('disabled');
        } else {
          dateCell.addEventListener('click', function() {
            // Clear previous selection
            const selected = dateGrid.querySelector('.selected');
            if (selected) selected.classList.remove('selected');
            
            // Set new selection
            dateCell.classList.add('selected');
            
            // Call the callback
            onSelect(new Date(currentMonth.getFullYear(), currentMonth.getMonth(), i));
          });
        }
        
        dateGrid.appendChild(dateCell);
      }
      
      calendarEl.appendChild(dateGrid);
    }

    // Date pickers
    const fromDateDropdown = document.getElementById('from-date-dropdown');
    const fromDateButton = document.getElementById('from-date-button');
    const fromCalendarPopup = document.getElementById('from-calendar-popup');
    const fromDateText = document.getElementById('from-date-text');

    const untilDateDropdown = document.getElementById('until-date-dropdown');
    const untilDateButton = document.getElementById('until-date-button');
    const untilCalendarPopup = document.getElementById('until-calendar-popup');
    const untilDateText = document.getElementById('until-date-text');

    // Initialize calendars
    createCalendar('from-calendar-popup', null, function(date) {
      formData.fromDate = date;
      fromDateText.textContent = date.toLocaleDateString();
      fromCalendarPopup.classList.remove('show');
    });

    createCalendar('until-calendar-popup', null, function(date) {
      formData.untilDate = date;
      untilDateText.textContent = date.toLocaleDateString();
      untilCalendarPopup.classList.remove('show');
    });

    // Toggle calendar popups
    fromDateButton.addEventListener('click', function() {
      fromCalendarPopup.classList.toggle('show');
      untilCalendarPopup.classList.remove('show');
    });

    untilDateButton.addEventListener('click', function() {
      untilCalendarPopup.classList.toggle('show');
      fromCalendarPopup.classList.remove('show');
    });

    // Close popups when clicking outside
    document.addEventListener('click', function(event) {
      if (!fromDateDropdown.contains(event.target)) {
        fromCalendarPopup.classList.remove('show');
      }
      if (!untilDateDropdown.contains(event.target)) {
        untilCalendarPopup.classList.remove('show');
      }
    });

    // Time pickers
    const fromTimeDropdown = document.getElementById('from-time-dropdown');
    const fromTimeButton = document.getElementById('from-time-button');
    const fromTimePopup = document.getElementById('from-time-popup');
    const fromTimeText = document.getElementById('from-time-text');
    const fromHours = document.getElementById('from-hours');
    const fromMinutes = document.getElementById('from-minutes');
    const fromPeriod = document.getElementById('from-period');

    const untilTimeDropdown = document.getElementById('until-time-dropdown');
    const untilTimeButton = document.getElementById('until-time-button');
    const untilTimePopup = document.getElementById('until-time-popup');
    const untilTimeText = document.getElementById('until-time-text');
    const untilHours = document.getElementById('until-hours');
    const untilMinutes = document.getElementById('until-minutes');
    const untilPeriod = document.getElementById('until-period');

    // Update from time
    function updateFromTime() {
      const hours = fromHours.value;
      const minutes = fromMinutes.value;
      const period = fromPeriod.value;
      formData.fromTime = `${hours}:${minutes} ${period}`;
      fromTimeText.textContent = formData.fromTime;
    }

    // Update until time
    function updateUntilTime() {
      const hours = untilHours.value;
      const minutes = untilMinutes.value;
      const period = untilPeriod.value;
      formData.untilTime = `${hours}:${minutes} ${period}`;
      untilTimeText.textContent = formData.untilTime;
    }

    // Add event listeners to time selects
    [fromHours, fromMinutes, fromPeriod].forEach(el => {
      el.addEventListener('change', function() {
        updateFromTime();
      });
    });

    [untilHours, untilMinutes, untilPeriod].forEach(el => {
      el.addEventListener('change', function() {
        updateUntilTime();
      });
    });

    // Toggle time popups
    fromTimeButton.addEventListener('click', function() {
      fromTimePopup.classList.toggle('show');
      untilTimePopup.classList.remove('show');
    });

    untilTimeButton.addEventListener('click', function() {
      untilTimePopup.classList.toggle('show');
      fromTimePopup.classList.remove('show');
    });

    // Close time popups when clicking outside
    document.addEventListener('click', function(event) {
      if (!fromTimeDropdown.contains(event.target)) {
        fromTimePopup.classList.remove('show');
      }
      if (!untilTimeDropdown.contains(event.target)) {
        untilTimePopup.classList.remove('show');
      }
    });

    // Initialize times
    updateFromTime();
    updateUntilTime();

    // File upload handling
    const idDocumentInput = document.getElementById('idDocument');
    const idDocumentUpload = document.getElementById('id-document-upload');
    const idDocumentPreview = document.getElementById('id-document-preview');
    const idDocumentPreviewContainer = document.getElementById('id-document-preview-container');
    const idDocumentPlaceholder = document.getElementById('id-document-placeholder');
    const idDocumentRemove = document.getElementById('id-document-remove');

    // Vehicle condition uploads
    const vehicleConditionInput = document.getElementById('vehicleCondition');
    const vehicleConditionUpload = document.getElementById('vehicle-condition-upload');
    const vehicleConditionPreviews = document.getElementById('vehicle-condition-previews');
    const vehicleConditionPlaceholder = document.getElementById('vehicle-condition-placeholder');

    // ID Document upload
    idDocumentUpload.addEventListener('click', function() {
      idDocumentInput.click();
    });

    idDocumentInput.addEventListener('change', function() {
      if (this.files && this.files[0]) {
        const file = this.files[0];
        formData.idDocument = file;
        formData.idDocumentPreview = URL.createObjectURL(file);
        
        idDocumentPreview.src = formData.idDocumentPreview;
        idDocumentPreviewContainer.classList.remove('hidden');
        idDocumentPlaceholder.classList.add('hidden');
      }
    });

    idDocumentRemove.addEventListener('click', function(e) {
      e.stopPropagation();
      formData.idDocument = null;
      formData.idDocumentPreview = '';
      
      idDocumentPreviewContainer.classList.add('hidden');
      idDocumentPlaceholder.classList.remove('hidden');
      idDocumentInput.value = '';
    });

    // Vehicle condition upload
    vehicleConditionUpload.addEventListener('click', function() {
      vehicleConditionInput.click();
    });

    vehicleConditionInput.addEventListener('change', function() {
      if (this.files && this.files.length > 0) {
        const newFiles = Array.from(this.files);
        const newPreviews = newFiles.map(file => URL.createObjectURL(file));
        
        formData.vehicleConditionImages = [...formData.vehicleConditionImages, ...newFiles];
        formData.vehicleConditionPreviews = [...formData.vehicleConditionPreviews, ...newPreviews];
        
        updateVehicleConditionPreviews();
      }
    });

    function updateVehicleConditionPreviews() {
      vehicleConditionPreviews.innerHTML = '';
      
      if (formData.vehicleConditionPreviews.length > 0) {
        vehicleConditionPreviews.classList.remove('hidden');
        vehicleConditionPlaceholder.classList.add('hidden');
        
        formData.vehicleConditionPreviews.forEach((preview, index) => {
          const container = document.createElement('div');
          container.className = 'image-preview-container';
          
          const img = document.createElement('img');
          img.src = preview;
          img.alt = `Vehicle condition ${index + 1}`;
          
          const removeButton = document.createElement('button');
          removeButton.type = 'button';
          removeButton.className = 'remove-button';
          removeButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>';
          removeButton.addEventListener('click', function(e) {
            e.stopPropagation();
            removeVehicleConditionImage(index);
          });
          
          container.appendChild(img);
          container.appendChild(removeButton);
          vehicleConditionPreviews.appendChild(container);
        });
        
        // Add "click to add more" message
        const message = document.createElement('p');
        message.className = 'text-xs text-center mt-2 text-gray-500';
        message.textContent = 'Click to add more images';
        vehicleConditionPreviews.appendChild(message);
      } else {
        vehicleConditionPreviews.classList.add('hidden');
        vehicleConditionPlaceholder.classList.remove('hidden');
      }
    }

    function removeVehicleConditionImage(index) {
      formData.vehicleConditionImages = formData.vehicleConditionImages.filter((_, i) => i !== index);
      formData.vehicleConditionPreviews = formData.vehicleConditionPreviews.filter((_, i) => i !== index);
      updateVehicleConditionPreviews();
    }

    // Accessory count buttons
    const countButtons = document.querySelectorAll('.count-button');
    countButtons.forEach(button => {
      button.addEventListener('click', function() {
        const accessory = this.getAttribute('data-accessory');
        const count = parseInt(this.getAttribute('data-count'));
        
        formData.accessories[accessory] = count;
        
        // Update the UI
        const siblings = document.querySelectorAll(`.count-button[data-accessory="${accessory}"]`);
        siblings.forEach(btn => {
          if (parseInt(btn.getAttribute('data-count')) === count) {
            btn.classList.add('selected');
          } else {
            btn.classList.remove('selected');
          }
        });
      });
    });

    // Other accessories checkboxes
    const otherAccessoryCheckboxes = document.querySelectorAll('input[name="otherAccessories"]');
    otherAccessoryCheckboxes.forEach(checkbox => {
      checkbox.addEventListener('change', function() {
        const accessory = this.value;
        formData.otherAccessories[accessory] = this.checked;
      });
    });

    // Terms agreement checkbox
    const termsCheckbox = document.getElementById('termsAgreed');
    termsCheckbox.addEventListener('change', function() {
      formData.termsAgreed = this.checked;
    });

    // Underage person radio buttons
    const underageRadios = document.querySelectorAll('input[name="underagedPerson"]');
    underageRadios.forEach(radio => {
      radio.addEventListener('change', function() {
        formData.underagedPerson = this.value;
      });
    });

    // Vehicle type radio buttons
    const vehicleTypeRadios = document.querySelectorAll('input[name="vehicleType"]');
    vehicleTypeRadios.forEach(radio => {
      radio.addEventListener('change', function() {
        formData.vehicleType = this.value;
      });
    });

    // Input fields for text
    const textInputs = document.querySelectorAll('input[type="text"], input[type="email"]');
    textInputs.forEach(input => {
      input.addEventListener('input', function() {
        formData[this.name] = this.value;
      });
    });

    // Signature canvas
    const canvas = document.getElementById('signature-canvas');
    const clearButton = document.getElementById('clear-signature');
    let isDrawing = false;
    
    // Set canvas dimensions
    canvas.width = canvas.offsetWidth;
    canvas.height = 150;
    
    const ctx = canvas.getContext('2d');
    ctx.lineWidth = 2;
    ctx.lineCap = 'round';
    ctx.strokeStyle = '#000';
    
    // Draw placeholder text
    function drawPlaceholderText() {
      ctx.font = '16px Arial';
      ctx.fillStyle = '#ccc';
      ctx.textAlign = 'center';
      ctx.fillText('Sign Here', canvas.width / 2, canvas.height / 2);
    }
    
    drawPlaceholderText();
    
    // Handle window resize
    window.addEventListener('resize', function() {
      const oldData = canvas.toDataURL();
      canvas.width = canvas.offsetWidth;
      
      if (oldData && oldData !== 'data:,') {
        const img = new Image();
        img.onload = function() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        };
        img.src = oldData;
      } else {
        drawPlaceholderText();
      }
    });
    
    // Start drawing
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('touchstart', startDrawing);
    
    // Draw
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('touchmove', draw);
    
    // Stop drawing
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('touchend', stopDrawing);
    canvas.addEventListener('mouseout', stopDrawing);
    
    // Clear button
    clearButton.addEventListener('click', function() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawPlaceholderText();
      formData.participantSignature = '';
    });
    
    function startDrawing(e) {
      isDrawing = true;
      
      // Clear placeholder text
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Get starting position
      const { offsetX, offsetY } = getEventCoordinates(e);
      ctx.beginPath();
      ctx.moveTo(offsetX, offsetY);
    }
    
    function draw(e) {
      if (!isDrawing) return;
      
      const { offsetX, offsetY } = getEventCoordinates(e);
      ctx.lineTo(offsetX, offsetY);
      ctx.stroke();
    }
    
    function stopDrawing() {
      if (!isDrawing) return;
      
      ctx.closePath();
      isDrawing = false;
      
      // Save signature data
      formData.participantSignature = canvas.toDataURL();
    }
    
    function getEventCoordinates(e) {
      const rect = canvas.getBoundingClientRect();
      
      if (e.type.includes('touch')) {
        // Touch event
        const touch = e.touches[0] || e.changedTouches[0];
        return {
          offsetX: touch.clientX - rect.left,
          offsetY: touch.clientY - rect.top
        };
      } else {
        // Mouse event
        return {
          offsetX: e.clientX - rect.left,
          offsetY: e.clientY - rect.top
        };
      }
    }

    // Form validation
    function validateForm() {
      const newErrors = {};
      
      // Required fields validation
      if (!formData.firstName) newErrors.firstName = "First name is required";
      if (!formData.lastName) newErrors.lastName = "Last name is required";
      if (!formData.nationality) newErrors.nationality = "Nationality is required";
      if (!formData.email) newErrors.email = "Email is required";
      if (!formData.phoneNumber) newErrors.phoneNumber = "Phone number is required";
      
      // Vehicle type validation
      if (!formData.vehicleType) newErrors.vehicleType = "Please select a vehicle type";
      
      // ID document validation
      if (!formData.idDocument) newErrors.idDocument = "ID document is required";
      
      // Date and time validation
      if (!formData.fromDate) newErrors.fromDate = "Start date is required";
      if (!formData.fromTime) newErrors.fromTime = "Start time is required";
      if (!formData.untilDate) newErrors.untilDate = "End date is required";
      if (!formData.untilTime) newErrors.untilTime = "End time is required";
      
      // Vehicle condition images validation
      if (formData.vehicleConditionImages.length === 0) {
        newErrors.vehicleCondition = "Please upload vehicle condition images";
      }
      
      // Terms agreement validation
      if (!formData.termsAgreed) newErrors.termsAgreed = "You must agree to the terms and conditions";
      
      // Signature validation
      if (!formData.participantSignature) newErrors.participantSignature = "Participant signature is required";
      
      // Update UI with errors
      Object.keys(newErrors).forEach(key => {
        const errorElement = document.getElementById(`${key}-error`);
        if (errorElement) {
          errorElement.textContent = newErrors[key];
          errorElement.classList.remove('hidden');
          
          // Add error styling
          const inputElement = document.getElementById(key);
          if (inputElement) {
            inputElement.classList.add('border-red-500');
          } else if (key === 'vehicleType') {
            document.getElementById('vehicle-type-container').classList.add('border-red-500');
          } else if (key === 'idDocument') {
            idDocumentUpload.classList.add('error');
          } else if (key === 'vehicleCondition') {
            vehicleConditionUpload.classList.add('error');
          } else if (key === 'participantSignature') {
            document.getElementById('participant-signature-pad').classList.add('error');
          }
        }
      });
      
      // Clear errors for valid fields
      const allErrorElements = document.querySelectorAll('.error-message');
      allErrorElements.forEach(el => {
        const field = el.id.replace('-error', '');
        if (!newErrors[field]) {
          el.classList.add('hidden');
          el.textContent = '';
          
          // Remove error styling
          const inputElement = document.getElementById(field);
          if (inputElement) {
            inputElement.classList.remove('border-red-500');
          } else if (field === 'vehicleType') {
            document.getElementById('vehicle-type-container').classList.remove('border-red-500');
          } else if (field === 'idDocument') {
            idDocumentUpload.classList.remove('error');
          } else if (field === 'vehicleCondition') {
            vehicleConditionUpload.classList.remove('error');
          } else if (field === 'participantSignature') {
            document.getElementById('participant-signature-pad').classList.remove('error');
          }
        }
      });
      
      return Object.keys(newErrors).length === 0;
    }

    // PDF generation
    function generatePDF() {
      // Using jsPDF library
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      
      // Add title
      doc.setFontSize(20);
      doc.text("SeeMe Rolling E-Bike Rental Agreement", 105, 15, { align: "center" });
      
      // Add renter information
      doc.setFontSize(16);
      doc.text("Renter Information", 14, 30);
      
      doc.setFontSize(12);
      doc.text(
        `Name: ${formData.firstName} ${formData.middleName ? formData.middleName + " " : ""}${formData.lastName}`,
        14,
        40
      );
      doc.text(`Nationality: ${formData.nationality}`, 14, 50);
      doc.text(`Email: ${formData.email}`, 14, 60);
      doc.text(`Phone: ${formData.countryCode} ${formData.phoneNumber}`, 14, 70);
      doc.text(`Vehicle Type: ${formData.vehicleType}`, 14, 80);
      
      // Add rental period
      doc.setFontSize(16);
      doc.text("Rental Period", 14, 100);
      
      doc.setFontSize(12);
      const fromDate = formData.fromDate ? formData.fromDate.toLocaleDateString() : "N/A";
      const untilDate = formData.untilDate ? formData.untilDate.toLocaleDateString() : "N/A";
      
      doc.text(`From: ${fromDate} ${formData.fromTime}`, 14, 110);
      doc.text(`Until: ${untilDate} ${formData.untilTime}`, 14, 120);
      
      // Add accessories
      doc.setFontSize(16);
      doc.text("Accessories", 14, 140);
      
      doc.setFontSize(12);
      doc.text(`Helmet: ${formData.accessories.helmet}`, 14, 150);
      doc.text(`Lock: ${formData.accessories.lock}`, 14, 160);
      doc.text(`Elastic Straps: ${formData.accessories.elasticStraps}`, 14, 170);
      
      // Add other accessories
      let otherAccessoriesText = "Other Accessories: ";
      const selectedAccessories = [];
      
      if (formData.otherAccessories.bikeMirror) selectedAccessories.push("Bike Mirror");
      if (formData.otherAccessories.charger) selectedAccessories.push("Charger");
      if (formData.otherAccessories.babySeat) selectedAccessories.push("Baby Seat");
      if (formData.otherAccessories.seatCushion) selectedAccessories.push("Seat Cushion");
      if (formData.otherAccessories.phoneMount) selectedAccessories.push("Phone Mount");
      if (formData.otherAccessories.batteryKey) selectedAccessories.push("Battery Key");
      if (formData.otherAccessories.bikeBasket) selectedAccessories.push("Bike Basket");
      
      otherAccessoriesText += selectedAccessories.join(", ") || "None";
      
      doc.text(otherAccessoriesText, 14, 180);
      
      // Add underaged person information
      doc.text(`Underaged Person Participating: ${formData.underagedPerson === "yes" ? "Yes" : "No"}`, 14, 190);
      
      // Add terms and conditions acknowledgment
      doc.setFontSize(16);
      doc.text("Terms and Conditions", 14, 210);
      
      doc.setFontSize(12);
      doc.text(`I have read and agreed to the terms & conditions: ${formData.termsAgreed ? "Yes" : "No"}`, 14, 220);
      
      // Add signature placeholder
      doc.text("Participant Signature:", 14, 240);
      
      // Add the actual signature image if available
      if (formData.participantSignature) {
        doc.addImage(formData.participantSignature, 'PNG', 14, 245, 80, 30);
      } else {
        // Just add a placeholder rectangle
        doc.rect(14, 245, 80, 30);
      }
      
      return doc;
    }

    // Form submission
    const form = document.getElementById('rental-form');
    const submitButton = document.getElementById('submit-button');
    
    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      submitButton.disabled = true;
      submitButton.innerHTML = '<span class="translated en-US">Submitting...</span>';
      
      if (validateForm()) {
        try {
          // Generate PDF
          const doc = generatePDF();
          const pdfBlob = doc.output('blob');
          
          // In a real implementation, you would send the data to your backend
          // For demo purposes, just show an alert and allow download of the PDF
          
          console.log("Form submitted successfully:", formData);
          
          // Create a download link for the PDF
          const url = URL.createObjectURL(pdfBlob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'rental-agreement.pdf';
          
          alert("Form submitted successfully! You can now download the PDF.");
          
          a.click();
          
          // Clean up
          setTimeout(() => {
            URL.revokeObjectURL(url);
          }, 100);
          
        } catch (error) {
          console.error("Error submitting form:", error);
          alert("There was an error submitting the form. Please try again.");
        } finally {
          submitButton.disabled = false;
          submitButton.innerHTML = '<span class="translated en-US">Submit</span>';
        }
      } else {
        console.log("Form has errors:", errors);
        submitButton.disabled = false;
        submitButton.innerHTML = '<span class="translated en-US">Submit</span>';
        
        // Scroll to the first error
        const firstError = document.querySelector('.error-message:not(.hidden)');
        if (firstError) {
          firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }
    });

    // Set initial button states for accessory counts
    for (const accessory in formData.accessories) {
      const count = formData.accessories[accessory];
      const button = document.querySelector(`.count-button[data-accessory="${accessory}"][data-count="${count}"]`);
      if (button) button.classList.add('selected');
    }

    // Logo placeholder
    document.getElementById('logo-image').src = 'https://placeholder.svg?height=140&width=140';
    document.getElementById('owner-signature').src = 'https://placeholder.svg?height=100&width=300';
  </script>
</body>
</html>
