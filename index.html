<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SeeMe Rolling E-Bike Rental Agreement</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'Handwriting';
      src: url('https://fonts.gstatic.com/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3ROp6.woff2') format('woff2');
      font-display: swap;
    }
    
    .font-handwriting {
      font-family: 'Handwriting', cursive;
    }
    
    .bg-emerald-300 {
      background-color: #6ee7b7;
    }
    
    .bg-emerald-400 {
      background-color: #34d399;
    }
    
    .bg-emerald-500 {
      background-color: #10b981;
    }
    
    .bg-emerald-600 {
      background-color: #059669;
    }
    
    .text-emerald-600 {
      color: #059669;
    }
    
    .bg-indigo-900 {
      background-color: #312e81;
    }
    
    .text-indigo-900 {
      color: #312e81;
    }
    
    .hover\:bg-indigo-800:hover {
      background-color: #3730a3;
    }
    
    .signature-pad {
      width: 100%;
      height: 160px;
      border: 1px solid #d1d5db;
      border-radius: 0.375rem;
      background-color: white;
      position: relative;
      overflow: hidden;
    }
    
    .signature-pad canvas {
      width: 100%;
      height: 100%;
      touch-action: none;
    }
    
    .signature-placeholder {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #9ca3af;
      pointer-events: none;
    }
    
    .date-picker, .time-picker {
      position: relative;
    }
    
    .date-picker-content, .time-picker-content {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 50;
      background-color: white;
      border: 1px solid #d1d5db;
      border-radius: 0.375rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      padding: 0.5rem;
      margin-top: 0.25rem;
      width: 300px;
    }
    
    .time-picker-content {
      height: 240px;
      overflow-y: auto;
    }
    
    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.25rem;
    }
    
    .calendar-header {
      grid-column: span 7;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    
    .calendar-day {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 2rem;
      width: 2rem;
      border-radius: 9999px;
      cursor: pointer;
    }
    
    .calendar-day:hover {
      background-color: #f3f4f6;
    }
    
    .calendar-day.selected {
      background-color: #10b981;
      color: white;
    }
    
    .calendar-day.disabled {
      color: #d1d5db;
      cursor: not-allowed;
    }
    
    .time-option {
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-radius: 0.375rem;
    }
    
    .time-option:hover {
      background-color: #f3f4f6;
    }
    
    .time-option.selected {
      background-color: #d1fae5;
      font-weight: 500;
    }
    
    .error-border {
      border: 2px solid #ef4444;
    }
    
    .hidden {
      display: none;
    }
    
    .show {
      display: block;
    }
    
    .language-dropdown {
      position: absolute;
      right: 0;
      top: 100%;
      margin-top: 0.25rem;
      width: 10rem;
      background-color: white;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      border-radius: 0.375rem;
      z-index: 10;
      display: none;
    }
    
    .language-dropdown.show {
      display: block;
    }
    
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    
    .radio-item {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 9999px;
      background-color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    
    .radio-item:hover {
      background-color: #f3f4f6;
    }
    
    .radio-item.selected {
      background-color: #059669;
      color: white;
    }
    
    .file-upload {
      border: 1px dashed #d1d5db;
      border-radius: 0.375rem;
      padding: 1.5rem;
      background-color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    
    .file-upload.error {
      border-color: #ef4444;
    }
    
    .image-preview {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin-top: 1rem;
    }
    
    .image-preview-item {
      position: relative;
      height: 6rem;
    }
    
    .image-preview-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 0.375rem;
    }
    
    .image-preview-item button {
      position: absolute;
      top: -0.5rem;
      right: -0.5rem;
      background-color: #ef4444;
      color: white;
      border-radius: 9999px;
      padding: 0.25rem;
      border: none;
      cursor: pointer;
    }
    
    .terms-container {
      max-height: 300px;
      overflow-y: auto;
      padding: 1rem;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 0.375rem;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body class="bg-teal-300/70 min-h-screen flex items-center justify-center p-4">
  <div class="w-full max-w-3xl">
    <div class="bg-emerald-500 rounded-lg shadow-md overflow-hidden">
      <!-- Header -->
      <div class="flex justify-end pb-0 pt-4 px-4 relative">
        <button id="language-button" class="h-8 px-2 text-sm text-white flex items-center gap-1">
          <span class="text-xs">🇺🇸</span> <span id="current-language">English (US)</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
            <path d="m6 9 6 6 6-6"/>
          </svg>
        </button>
        <div id="language-dropdown" class="language-dropdown">
          <div class="py-1">
            <button class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left" data-language="English (US)">
              <span class="text-xs mr-2">🇺🇸</span> English (US)
            </button>
            <button class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left" data-language="Ελληνικά">
              <span class="text-xs mr-2">🇬🇷</span> Ελληνικά
            </button>
          </div>
        </div>
      </div>

      <!-- Logo and Title -->
      <div class="px-6 py-4 flex flex-col items-center">
        <div class="mb-6">
          <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Est.%202023%20-%201-cqyFsv1on4rowqkbTjcL7L2CwzbvFT.png" alt="SeeMe Rolling E-Bike Rentals Logo" width="150" height="150" class="rounded-md">
        </div>
        <h1 class="text-2xl font-bold text-indigo-900 mb-8 font-handwriting text-center">
          SeeMe Rolling E-Bike Rental Agreement
        </h1>
      </div>

      <!-- Form -->
      <div class="bg-emerald-400 p-6">
        <form id="rental-form" class="space-y-6">
          <!-- Renter Information -->
          <div class="p-4 bg-emerald-300 rounded-md">
            <h3 class="text-lg font-medium text-indigo-900 mb-4">Renter Information</h3>
            <div class="space-y-4">
              <!-- Name Fields -->
              <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                <div>
                  <label for="first-name" class="text-sm font-medium text-indigo-900 flex items-center">
                    First Name <span class="text-red-500 ml-1">*</span>
                  </label>
                  <input
                    id="first-name"
                    name="participant-1-first-name"
                    placeholder="First Name"
                    class="w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  >
                  <p id="first-name-error" class="text-xs text-red-500 mt-1 hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                      <circle cx="12" cy="12" r="10"/>
                      <line x1="12" y1="8" x2="12" y2="12"/>
                      <line x1="12" y1="16" x2="12.01" y2="16"/>
                    </svg>
                    First name is required
                  </p>
                </div>
                <div>
                  <label for="middle-name" class="text-sm font-medium text-indigo-900">
                    Middle Name
                  </label>
                  <input
                    id="middle-name"
                    name="participant-1-middle-name"
                    placeholder="Middle Name"
                    class="w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  >
                </div>
                <div>
                  <label for="last-name" class="text-sm font-medium text-indigo-900 flex items-center">
                    Last Name <span class="text-red-500 ml-1">*</span>
                  </label>
                  <input
                    id="last-name"
                    name="participant-1-last-name"
                    placeholder="Last Name"
                    class="w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  >
                  <p id="last-name-error" class="text-xs text-red-500 mt-1 hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                      <circle cx="12" cy="12" r="10"/>
                      <line x1="12" y1="8" x2="12" y2="12"/>
                      <line x1="12" y1="16" x2="12.01" y2="16"/>
                    </svg>
                    Last name is required
                  </p>
                </div>
              </div>

              <!-- Nationality -->
              <div>
                <label for="nationality" class="text-sm font-medium text-indigo-900 flex items-center">
                  Nationality <span class="text-red-500 ml-1">*</span>
                </label>
                <input
                  id="nationality"
                  name="participant-1-nationality"
                  placeholder="Nationality"
                  class="w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                <p id="nationality-error" class="text-xs text-red-500 mt-1 hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                  </svg>
                  Nationality is required
                </p>
              </div>

              <!-- Email -->
              <div>
                <label for="email" class="text-sm font-medium text-indigo-900 flex items-center">
                  Email <span class="text-red-500 ml-1">*</span>
                </label>
                <input
                  id="email"
                  name="participant-1-email"
                  type="email"
                  placeholder="example@example.com"
                  class="w-full mt-1 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                <p id="email-error" class="text-xs text-red-500 mt-1 hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                  </svg>
                  Please enter a valid email address
                </p>
              </div>

              <!-- Phone Number -->
              <div>
                <label for="phone" class="text-sm font-medium text-indigo-900 flex items-center">
                  Phone Number <span class="text-red-500 ml-1">*</span>
                </label>
                <div class="grid grid-cols-4 gap-2 mt-1">
                  <div class="col-span-1">
                    <input
                      id="country-code"
                      name="participant-1-country-code"
                      placeholder="+1"
                      class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    >
                    <p class="text-xs text-indigo-900/80 mt-1">Country Code</p>
                  </div>
                  <div class="col-span-3">
                    <input
                      id="phone"
                      name="participant-1-phone"
                      placeholder="Phone Number"
                      class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    >
                    <p class="text-xs text-indigo-900/80 mt-1">Phone Number</p>
                    <p id="phone-error" class="text-xs text-red-500 mt-1 hidden">
                      <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="12"/>
                        <line x1="12" y1="16" x2="12.01" y2="16"/>
                      </svg>
                      Phone number is required
                    </p>
                  </div>
                </div>
              </div>

              <!-- Type of Vehicle -->
              <div>
                <label class="text-sm font-medium text-indigo-900 flex items-center">
                  Type of Vehicle <span class="text-red-500 ml-1">*</span>
                </label>
                <div id="vehicle-type-container" class="space-y-2 mt-2">
                  <div class="flex items-center space-x-2">
                    <input type="checkbox" id="e-scooter" name="participant-1-vehicle-type" value="e-scooter" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                    <label for="e-scooter" class="text-indigo-900">E- Scooter</label>
                  </div>
                  <div class="flex items-center space-x-2">
                    <input type="checkbox" id="mountain-e-bike" name="participant-1-vehicle-type" value="mountain-e-bike" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                    <label for="mountain-e-bike" class="text-indigo-900">Mountain E- Bike</label>
                  </div>
                  <div class="flex items-center space-x-2">
                    <input type="checkbox" id="trekking-e-bike" name="participant-1-vehicle-type" value="trekking-e-bike" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                    <label for="trekking-e-bike" class="text-indigo-900">Trekking E-bike</label>
                  </div>
                  <div class="flex items-center space-x-2">
                    <input type="checkbox" id="fat-tire-e-bike" name="participant-1-vehicle-type" value="fat-tire-e-bike" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                    <label for="fat-tire-e-bike" class="text-indigo-900">Fat Tire E-bike</label>
                  </div>
                </div>
                <p id="vehicle-type-error" class="text-xs text-red-500 mt-1 hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                  </svg>
                  Please select at least one vehicle type
                </p>
              </div>

              <!-- Passport/ID/Driver's License -->
              <div>
                <label for="passport" class="text-sm font-medium text-indigo-900 flex items-center">
                  Passport/ ID / DRIVER'S LICENSE <span class="text-red-500 ml-1">*</span>
                </label>
                <div id="passport-upload" class="file-upload mt-2">
                  <input type="file" id="passport" name="participant-1-passport" class="hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#9ca3af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="17 8 12 3 7 8"/>
                    <line x1="12" y1="3" x2="12" y2="15"/>
                  </svg>
                  <p class="text-base font-medium text-gray-500">Browse Files</p>
                  <p class="text-sm text-gray-400 mt-1">Drag and drop files here</p>
                </div>
                <p id="passport-success" class="text-xs text-green-600 mt-1 hidden">File uploaded successfully</p>
                <p id="passport-error" class="text-xs text-red-500 mt-1 hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                  </svg>
                  ID document is required
                </p>
              </div>
            </div>
          </div>

          <hr class="border-white/30 my-6">

          <!-- From Date and Time -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="from-date" class="text-sm font-medium text-indigo-900 flex items-center">
                From <span class="text-red-500 ml-1">*</span>
              </label>
              <div class="date-picker mt-2">
                <button type="button" id="from-date-button" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-left flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                  </svg>
                  <span id="from-date-text" class="text-gray-500">Select date</span>
                </button>
                <div id="from-date-content" class="date-picker-content">
                  <div class="calendar-header">
                    <button type="button" id="prev-month" class="p-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="15 18 9 12 15 6"/>
                      </svg>
                    </button>
                    <div id="current-month-year">March 2025</div>
                    <button type="button" id="next-month" class="p-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"/>
                      </svg>
                    </button>
                  </div>
                  <div class="calendar" id="calendar-days">
                    <!-- Calendar days will be inserted here by JavaScript -->
                  </div>
                </div>
                <input type="hidden" id="from-date" name="from-date" value="">
                <p class="text-xs text-indigo-900/80 mt-1">Date</p>
                <p id="from-date-error" class="text-xs text-red-500 mt-1 hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                  </svg>
                  From date is required
                </p>
              </div>
            </div>
            <div>
              <label for="from-time" class="text-sm font-medium text-indigo-900 flex items-center">
                Time <span class="text-red-500 ml-1">*</span>
              </label>
              <div class="time-picker mt-2">
                <button type="button" id="from-time-button" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-left flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                  </svg>
                  <span id="from-time-text" class="text-gray-500">Select time</span>
                </button>
                <div id="from-time-content" class="time-picker-content">
                  <!-- Time options will be inserted here by JavaScript -->
                </div>
                <input type="hidden" id="from-time" name="from-time" value="">
                <p class="text-xs text-indigo-900/80 mt-1">Hour Minutes</p>
                <p id="from-time-error" class="text-xs text-red-500 mt-1 hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                  </svg>
                  From time is required
                </p>
              </div>
            </div>
          </div>

          <!-- Until Date and Time -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="until-date" class="text-sm font-medium text-indigo-900">
                Until
              </label>
              <div class="date-picker mt-2">
                <button type="button" id="until-date-button" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-left  class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-left flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                  </svg>
                  <span id="until-date-text" class="text-gray-500">Select date</span>
                </button>
                <div id="until-date-content" class="date-picker-content">
                  <div class="calendar-header">
                    <button type="button" id="until-prev-month" class="p-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="15 18 9 12 15 6"/>
                      </svg>
                    </button>
                    <div id="until-current-month-year">March 2025</div>
                    <button type="button" id="until-next-month" class="p-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"/>
                      </svg>
                    </button>
                  </div>
                  <div class="calendar" id="until-calendar-days">
                    <!-- Calendar days will be inserted here by JavaScript -->
                  </div>
                </div>
                <input type="hidden" id="until-date" name="until-date" value="">
                <p class="text-xs text-indigo-900/80 mt-1">Date</p>
              </div>
            </div>
            <div>
              <label for="until-time" class="text-sm font-medium text-indigo-900">
                Time
              </label>
              <div class="time-picker mt-2">
                <button type="button" id="until-time-button" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-left flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                  </svg>
                  <span id="until-time-text" class="text-gray-500">Select time</span>
                </button>
                <div id="until-time-content" class="time-picker-content">
                  <!-- Time options will be inserted here by JavaScript -->
                </div>
                <input type="hidden" id="until-time" name="until-time" value="">
                <p class="text-xs text-indigo-900/80 mt-1">Hour Minutes</p>
              </div>
            </div>
          </div>

          <!-- Vehicle Condition Before Rental -->
          <div>
            <label for="vehicle-condition-images" class="text-sm font-medium text-indigo-900 flex items-center">
              Vehicle Condition Before Rental <span class="text-red-500 ml-1">*</span>
            </label>
            <div id="vehicle-condition-upload" class="file-upload mt-2">
              <input type="file" id="vehicle-condition-images" name="vehicle-condition-images" class="hidden" multiple accept="image/*">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#9ca3af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="17 8 12 3 7 8"/>
                <line x1="12" y1="3" x2="12" y2="15"/>
              </svg>
              <p class="text-base font-medium text-gray-500">Browse Files</p>
              <p class="text-sm text-gray-400 mt-1">Drag and drop multiple images here</p>
            </div>
            <div id="vehicle-images-preview" class="image-preview"></div>
            <p id="vehicle-condition-error" class="text-xs text-red-500 mt-1 hidden">
              <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
              </svg>
              Please upload at least one image of the vehicle condition
            </p>
          </div>

          <div class="text-xl font-medium text-indigo-900 mt-8">Accessories</div>
          <hr class="border-white/30 my-2">

          <!-- Accessories -->
          <div>
            <label class="text-sm font-medium text-indigo-900">Helmet</label>
            <div class="radio-group mt-2" data-name="helmet">
              <div class="radio-item" data-value="0">0</div>
              <div class="radio-item" data-value="1">1</div>
              <div class="radio-item" data-value="2">2</div>
              <div class="radio-item" data-value="3">3</div>
              <div class="radio-item" data-value="4">4</div>
              <div class="radio-item" data-value="5">5</div>
            </div>
            <input type="hidden" name="helmet" id="helmet" value="0">
          </div>

          <div>
            <label class="text-sm font-medium text-indigo-900">Lock</label>
            <div class="radio-group mt-2" data-name="lock">
              <div class="radio-item" data-value="0">0</div>
              <div class="radio-item" data-value="1">1</div>
              <div class="radio-item" data-value="2">2</div>
              <div class="radio-item" data-value="3">3</div>
              <div class="radio-item" data-value="4">4</div>
              <div class="radio-item" data-value="5">5</div>
            </div>
            <input type="hidden" name="lock" id="lock" value="0">
          </div>

          <div>
            <label class="text-sm font-medium text-indigo-900">Elastic Straps</label>
            <div class="radio-group mt-2" data-name="elastic-straps">
              <div class="radio-item" data-value="0">0</div>
              <div class="radio-item" data-value="1">1</div>
              <div class="radio-item" data-value="2">2</div>
              <div class="radio-item" data-value="3">3</div>
              <div class="radio-item" data-value="4">4</div>
              <div class="radio-item" data-value="5">5</div>
            </div>
            <input type="hidden" name="elastic-straps" id="elastic-straps" value="0">
          </div>

          <!-- Other Accessories -->
          <div>
            <label class="text-sm font-medium text-indigo-900">Other Accessories</label>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mt-2">
              <div class="flex items-center space-x-2">
                <input type="checkbox" id="bike-mirror" name="accessories" value="bike-mirror" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                <label for="bike-mirror" class="text-indigo-900">Bike Mirror</label>
              </div>
              <div class="flex items-center space-x-2">
                <input type="checkbox" id="phone-mount" name="accessories" value="phone-mount" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                <label for="phone-mount" class="text-indigo-900">Phone Mount</label>
              </div>
              <div class="flex items-center space-x-2">
                <input type="checkbox" id="charger" name="accessories" value="charger" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                <label for="charger" class="text-indigo-900">Charger</label>
              </div>
              <div class="flex items-center space-x-2">
                <input type="checkbox" id="battery-key" name="accessories" value="battery-key" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                <label for="battery-key" class="text-indigo-900">Battery Key</label>
              </div>
              <div class="flex items-center space-x-2">
                <input type="checkbox" id="baby-seat" name="accessories" value="baby-seat" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                <label for="baby-seat" class="text-indigo-900">Baby Seat</label>
              </div>
              <div class="flex items-center space-x-2">
                <input type="checkbox" id="bike-basket" name="accessories" value="bike-basket" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                <label for="bike-basket" class="text-indigo-900">Bike Basket</label>
              </div>
              <div class="flex items-center space-x-2">
                <input type="checkbox" id="seat-cushion" name="accessories" value="seat-cushion" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
                <label for="seat-cushion" class="text-indigo-900">Seat Cushion</label>
              </div>
            </div>
          </div>

          <hr class="border-white/30 my-6">

          <!-- Terms and Conditions -->
          <div>
            <h2 class="text-xl font-bold text-indigo-900 text-center underline mb-4">
              TERMS AND CONDITIONS OF VEHICLE RENTAL
            </h2>
            <div class="terms-container">
              <p>ΟΡΟΙ ΚΑΙ ΠΡΟΫΠΟΘΕΣΕΙΣ ΕΝΟΙΚΙΑΣΗΣ ΟΧΗΜΑΤΟΣ</p>
              <p>- Μόνο τα άτομα που αναφέρονται στη συμφωνία θα επιτρέπεται να οδηγούν το όχημα. Σε περίπτωση που οποιοδήποτε όχημα πρόκειται να χρησιμοποιηθεί από ανήλικο, συγκεκριμένα (15-17) ετών για τα ηλεκτρονικά ποδήλατα ή (12-17) για τα σκούτερ, τότε αυτή η σύμβαση είναι η έγγραφη συναίνεση του γονέα. Περισσότερα για την αντίστοιχη ενότητα παρακάτω.*</p>
              <p>-Ο ενοικιαστής είναι υπεύθυνος για οποιαδήποτε παραβίαση των κανόνων οδικής κυκλοφορίας: λάθος παρκάρισμα, γρήγορη οδήγηση κ.λπ.</p>
              <p>- Απαγορεύεται αυστηρά η οδήγηση ποδήλατο/σκάουτερ εκτός δρόμου, η οδήγηση οποιουδήποτε ποδηλάτου/σκάουτερ στην παραλία και η οδήγηση οποιουδήποτε ποδηλάτου/σκάουτερ με περισσότερα από ένα άτομα, ο ενοικιαστής θα επιστρέψει ταυτόχρονα στον εξοπλισμό και τα αξεσουάρ. την πόλη όπου νοικιάστηκε το όχημα ή όπως άλλως ορίζεται στην υπογεγραμμένη σελίδα της σύμβασης. Η παράταση της περιόδου ενοικίασης γίνεται με την έγκριση του ιδιοκτήτη και χωρίς αυτήν ο ενοικιαστής θα χρεωθεί ανάλογα.</p>
              <p>- Ο ενοικιαστής υποχρεούται να επιστρέψει τις μπαταρίες του οχήματος πλήρως φορτισμένες, εάν η περίοδος ενοικίασης είναι τουλάχιστον μία ημέρα. Διαφορετικά, θα υπάρχει επιπλέον χρέωση 10 ευρώ για κάθε μπαταρία.</p>
              <p>- Ο ιδιοκτήτης διατηρεί το δικαίωμα να ανακτήσει το όχημα ανά πάσα στιγμή χωρίς απαίτηση, με έξοδα του πελάτη, εάν το όχημα χρησιμοποιηθεί κατά παράβαση της παρούσας συμφωνίας.</p>
              <p>- Ο ενοικιαστής που επιθυμεί να αφαιρέσει το όχημα από το νησί της Σύμης, πρέπει να έχει γραπτή συγκατάθεση από τον ιδιοκτήτη.</p>
              <p>-Κάθε όχημα που νοικιάζεται για 5+ ώρες πρέπει να επιστραφεί στις 11:00 π.μ. της ημέρας που λήγει η περίοδος ενοικίασης.</p>
              <p class="font-medium mt-4">Κατάσταση οχήματος/Ευθύνη συντήρησης</p>
              <p>- Ο ενοικιαστής επιβεβαιώνει ότι πριν παραλάβει το όχημα το εξέτασε και το βρήκε χωρίς ζημιές, εκτός από αυτές που εμφανίζονται στις παρατηρήσεις (1η σελίδα).</p>
              <p>- Ο ενοικιαστής επιβεβαιώνει ότι έλαβε απόδειξη/οδηγίες για τη σωστή χρήση του οχήματος. Αυτή η επίδειξη καλύπτει όλες τις πτυχές της ασφαλούς λειτουργίας του οχήματος, τις ευθύνες συντήρησης του ενοικιαστή, τους τοπικούς και πολιτειακούς νόμους. Επίσης, προσφέρθηκε στον ενοικιαστή ένα κράνος ασφαλείας και είναι επιλογή του ίδιου του ενοικιαστή εάν ο ενοικιαστής δεν το αποδέχτηκε.</p>
              <p>- Ο ενοικιαστής συμφωνεί να φροντίσει το όχημα και είναι υπεύθυνος για τον έλεγχο της υγείας του οχήματος και την άμεση αναφορά μηχανικών βλαβών, ακόμη και όταν δεν χρησιμοποιείται. Ο ενοικιαστής μπορεί να θεωρηθεί υπεύθυνος για μηχανική βλάβη λόγω αμέλειας στη λειτουργία του οχήματος ή αδυναμίας παροχής κανονικής συντήρησης</p>
              <p>- Σε περίπτωση βλάβης ή μηχανικής βλάβης, ο πελάτης είναι υπεύθυνος για τη μεταφορά του οχήματος πίσω στο κατάστημα. Εάν δεν είναι δυνατό τότε το κατάστημα θα πρέπει να ενημερωθεί για την ακριβή τοποθεσία και θα κανονίσει μια παραλαβή για την οποία ο πελάτης υποχρεούται να πληρώσει. Ο πελάτης θα χρεωθεί επίσης για οποιαδήποτε ζημιά στο όχημα ή στα οχήματα.</p>
              <p>- Όλα τα ποδήλατα/σκούτερ μπορούν να κλειδωθούν, μπορείτε να ζητήσετε στο κατάστημα μια επιπλέον κλειδαριά ή αλυσίδα για πρόσθετη ασφάλεια, η ασφάλισή μας δεν καλύπτει την κλοπή και έτσι σε αυτήν την περίπτωση ο ενοικιαστής θα χρεωθεί για την κλοπή του οχήματος ή μερών του.</p>
              <p>-Οι όροι διέπονται και ερμηνεύονται σύμφωνα με το ελληνικό δίκαιο. Σε περίπτωση οποιασδήποτε διαφωνίας μεταξύ των συμβαλλόμενων μερών, μόνο τα ελληνικά δικαστήρια θα αποδώσουν δικαιοσύνη.</p>
              <p>-Με αυτή τη σύμβαση το κατάστημα ενοικιάζει στον υπογεγραμμένο ενοικιαστή το όχημα που περιγράφεται στην πρώτη σελίδα της παρούσας συμφωνίας, οι όροι και οι προϋποθέσεις έχουν διαβαστεί και γίνει αποδεκτός από τον υπογεγραμμένο ενοικιαστή</p>
            </div>
          </div>

          <!-- Terms Agreement -->
          <div class="flex items-start space-x-2">
            <input type="checkbox" id="terms-agreement" name="terms-agreement" class="h-4 w-4 mt-1 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded">
            <label for="terms-agreement" class="text-indigo-900 flex items-center">
              I have read and agreed to the <a href="#" class="text-blue-600 underline ml-1">terms & conditions</a> <span class="text-red-500 ml-1">*</span>
            </label>
          </div>
          <p id="terms-agreement-error" class="text-xs text-red-500 mt-1 hidden">
            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
              <circle cx="12" cy="12" r="10"/>
              <line x1="12" y1="8" x2="12" y2="12"/>
              <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
            You must agree to the terms and conditions
          </p>

          <!-- Underaged Person -->
          <div>
            <label class="text-sm font-medium text-indigo-900">Is there any underaged person participating?</label>
            <div class="space-y-2 mt-2">
              <div class="flex items-center space-x-2">
                <input type="radio" id="underaged-yes" name="underaged-person" value="Yes" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300">
                <label for="underaged-yes" class="text-indigo-900">Yes</label>
              </div>
              <div class="flex items-center space-x-2">
                <input type="radio" id="underaged-no" name="underaged-person" value="No" class="h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300" checked>
                <label for="underaged-no" class="text-indigo-900">No</label>
              </div>
            </div>
          </div>

          <!-- Owner's Signature -->
          <div>
            <label class="text-sm font-medium text-indigo-900">Owner's signature:</label>
            <div class="mt-2 bg-white p-4 rounded-md">
              <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/IMG_0203-Kg6Ipa2M3FG8Ma7nGb4x1DVVgD59xZ.jpeg" alt="Owner's signature" width="300" height="150" class="mx-auto">
            </div>
          </div>

          <!-- Participant's Signature -->
          <div>
            <label for="signature" class="text-sm font-medium text-indigo-900 flex items-center">
              Participant's signature <span class="text-red-500 ml-1">*</span>
            </label>
            <div class="mt-2">
              <div id="signature-pad" class="signature-pad">
                <canvas id="signature-canvas"></canvas>
                <div id="signature-placeholder" class="signature-placeholder">
                  <div class="text-center">
                    <p>Sign Here</p>
                    <svg class="mx-auto h-8 w-24 text-gray-300" viewBox="0 0 100 24" fill="none" stroke="currentColor">
                      <path d="M0,12 C30,12 30,2 50,2 C70,2 70,22 100,22" stroke-width="2" />
                    </svg>
                  </div>
                </div>
              </div>
              <div class="flex justify-end mt-1">
                <button type="button" id="clear-signature" class="px-3 py-1 text-xs bg-gray-100 border border-gray-300 rounded-md">
                  Clear
                </button>
              </div>
              <input type="hidden" id="signature" name="participant-1-signature" value="">
              <p id="signature-error" class="text-xs text-red-500 mt-1 hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline mr-1">
                  <circle cx="12" cy="12" r="10"/>
                  <line x1="12" y1="8" x2="12" y2="12"/>
                  <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                Signature is required
              </p>
            </div>
          </div>

          <!-- Form validation error summary -->
          <div id="form-error-summary" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative hidden" role="alert">
            <div class="flex">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
              </svg>
              <span>Please correct the errors in the form before submitting.</span>
            </div>
          </div>

          <div class="flex justify-end mt-8">
            <button type="submit" class="px-4 py-2 bg-indigo-900 hover:bg-indigo-800 text-white rounded-md">
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Form data and validation
    let formData = {
      firstName: '',
      middleName: '',
      lastName: '',
      nationality: '',
      email: '',
      countryCode: '',
      phone: '',
      passport: '',
      vehicleType: [],
      fromDate: '',
      fromTime: '',
      untilDate: '',
      untilTime: '',
      vehicleConditionImages: [],
      helmet: '0',
      lock: '0',
      elasticStraps: '0',
      accessories: [],
      termsAgreement: false,
      underagedPerson: 'No',
      signature: ''
    };

    let formSubmitted = false;
    let formErrors = {};

    // Language dropdown
    const languageButton = document.getElementById('language-button');
    const languageDropdown = document.getElementById('language-dropdown');
    const currentLanguage = document.getElementById('current-language');
    const languageOptions = document.querySelectorAll('#language-dropdown button');

    languageButton.addEventListener('click', () => {
      languageDropdown.classList.toggle('show');
    });

    languageOptions.forEach(option => {
      option.addEventListener('click', () => {
        currentLanguage.textContent = option.dataset.language;
        languageDropdown.classList.remove('show');
      });
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!languageButton.contains(e.target) && !languageDropdown.contains(e.target)) {
        languageDropdown.classList.remove('show');
      }
    });

    // Date picker functionality
    function setupDatePicker(buttonId, contentId, inputId, textId, calendarId, prevMonthId, nextMonthId, currentMonthYearId) {
      const button = document.getElementById(buttonId);
      const content = document.getElementById(contentId);
      const input = document.getElementById(inputId);
      const text = document.getElementById(textId);
      const prevMonth = document.getElementById(prevMonthId);
      const nextMonth = document.getElementById(nextMonthId);
      const currentMonthYear = document.getElementById(currentMonthYearId);
      const calendar = document.getElementById(calendarId);

      let currentDate = new Date();
      let selectedDate = null;

      function updateCalendar() {
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        
        currentMonthYear.textContent = new Date(year, month, 1).toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
        
        // Clear calendar
        calendar.innerHTML = '';
        
        // Add day headers
        const dayNames = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];
        dayNames.forEach(day => {
          const dayEl = document.createElement('div');
          dayEl.textContent = day;
          dayEl.className = 'text-center text-xs font-medium text-gray-500';
          calendar.appendChild(dayEl);
        });
        
        // Get first day of month
        const firstDay = new Date(year, month, 1).getDay();
        
        // Add empty cells for days before first day of month
        for (let i = 0; i < firstDay; i++) {
          const emptyDay = document.createElement('div');
          calendar.appendChild(emptyDay);
        }
        
        // Get number of days in month
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        
        // Add days
        for (let day = 1; day <= daysInMonth; day++) {
          const dayEl = document.createElement('div');
          dayEl.textContent = day;
          dayEl.className = 'calendar-day';
          
          const dateObj = new Date(year, month, day);
          
          // Check if this day is selected
          if (selectedDate && dateObj.toDateString() === selectedDate.toDateString()) {
            dayEl.classList.add('selected');
          }
          
          dayEl.addEventListener('click', () => {
            selectedDate = new Date(year, month, day);
            
            // Format date for display
            const formattedDate = selectedDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
            text.textContent = formattedDate;
            text.classList.remove('text-gray-500');
            
            // Format date for input value (YYYY-MM-DD)
            const formattedValue = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
            input.value = formattedValue;
            
            // Update form data
            if (inputId === 'from-date') {
              formData.fromDate = formattedValue;
              const error = document.getElementById('from-date-error');
              error.classList.add('hidden');
              button.classList.remove('error-border');
            } else if (inputId === 'until-date') {
              formData.untilDate = formattedValue;
            }
            
            // Hide calendar
            content.style.display = 'none';
            
            // Update calendar to show selection
            updateCalendar();
          });
          
          calendar.appendChild(dayEl);
        }
      }

      // Initialize calendar
      updateCalendar();

      // Show/hide calendar
      button.addEventListener('click', () => {
        content.style.display = content.style.display === 'block' ? 'none' : 'block';
      });

      // Previous month
      prevMonth.addEventListener('click', (e) => {
        e.stopPropagation();
        currentDate.setMonth(currentDate.getMonth() - 1);
        updateCalendar();
      });

      // Next month
      nextMonth.addEventListener('click', (e) => {
        e.stopPropagation();
        currentDate.setMonth(currentDate.getMonth() + 1);
        updateCalendar();
      });

      // Close calendar when clicking outside
      document.addEventListener('click', (e) => {
        if (!button.contains(e.target) && !content.contains(e.target)) {
          content.style.display = 'none';
        }
      });
    }

    // Time picker functionality
    function setupTimePicker(buttonId, contentId, inputId, textId) {
      const button = document.getElementById(buttonId);
      const content = document.getElementById(contentId);
      const input = document.getElementById(inputId);
      const text = document.getElementById(textId);

      // Generate time options
      const timeOptions = [];
      for (let hour = 0; hour < 24; hour++) {
        for (const minute of [0, 30]) {
          timeOptions.push(`${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`);
        }
      }

      // Populate time options
      timeOptions.forEach(time => {
        const option = document.createElement('div');
        option.textContent = time;
        option.className = 'time-option';
        option.addEventListener('click', () => {
          text.textContent = time;
          text.classList.remove('text-gray-500');
          input.value = time;
          
          // Update form data
          if (inputId === 'from-time') {
            formData.fromTime = time;
            const error = document.getElementById('from-time-error');
            error.classList.add('hidden');
            button.classList.remove('error-border');
          } else if (inputId === 'until-time') {
            formData.untilTime = time;
          }
          
          content.style.display = 'none';
          
          // Update selected state
          document.querySelectorAll(`#${contentId} .time-option`).forEach(el => {
            el.classList.remove('selected');
          });
          option.classList.add('selected');
        });
        content.appendChild(option);
      });

      // Show/hide time picker
      button.addEventListener('click', () => {
        content.style.display = content.style.display === 'block' ? 'none' : 'block';
      });

      // Close time picker when clicking outside
      document.addEventListener('click', (e) => {
        if (!button.contains(e.target) && !content.contains(e.target)) {
          content.style.display = 'none';
        }
      });
    }

    // Setup date and time pickers
    setupDatePicker('from-date-button', 'from-date-content', 'from-date', 'from-date-text', 'calendar-days', 'prev-month', 'next-month', 'current-month-year');
    setupDatePicker('until-date-button', 'until-date-content', 'until-date', 'until-date-text', 'until-calendar-days', 'until-prev-month', 'until-next-month', 'until-current-month-year');
    setupTimePicker('from-time-button', 'from-time-content', 'from-time', 'from-time-text');
    setupTimePicker('until-time-button', 'until-time-content', 'until-time', 'until-time-text');

    // Radio group functionality
    document.querySelectorAll('.radio-group').forEach(group => {
      const name = group.dataset.name;
      const input = document.getElementById(name);
      const items = group.querySelectorAll('.radio-item');
      
      // Set initial selected item
      items[0].classList.add('selected');
      
      items.forEach(item => {
        item.addEventListener('click', () => {
          // Remove selected class from all items
          items.forEach(i => i.classList.remove('selected'));
          
          // Add selected class to clicked item
          item.classList.add('selected');
          
          // Update hidden input value
          input.value = item.dataset.value;
          
          // Update form data
          formData[name.replace(/-([a-z])/g, g => g[1].toUpperCase())] = item.dataset.value;
        });
      });
    });

    // File upload for passport
    const passportUpload = document.getElementById('passport-upload');
    const passportInput = document.getElementById('passport');
    const passportSuccess = document.getElementById('passport-success');
    const passportError = document.getElementById('passport-error');

    passportUpload.addEventListener('click', () => {
      passportInput.click();
    });

    passportInput.addEventListener('change', (e) => {
      if (e.target.files && e.target.files[0]) {
        const file = e.target.files[0];
        const reader = new FileReader();
        
        reader.onloadend = () => {
          formData.passport = reader.result;
          passportSuccess.classList.remove('hidden');
          passportError.classList.add('hidden');
          passportUpload.classList.remove('error');
        };
        
        reader.readAsDataURL(file);
      }
    });

    // File upload for vehicle condition images
    const vehicleConditionUpload = document.getElementById('vehicle-condition-upload');
    const vehicleConditionInput = document.getElementById('vehicle-condition-images');
    const vehicleImagesPreview = document.getElementById('vehicle-images-preview');
    const vehicleConditionError = document.getElementById('vehicle-condition-error');

    vehicleConditionUpload.addEventListener('click', () => {
      vehicleConditionInput.click();
    });

    vehicleConditionInput.addEventListener('change', (e) => {
      if (e.target.files && e.target.files.length > 0) {
        Array.from(e.target.files).forEach((file) => {
          const reader = new FileReader();
          
          reader.onloadend = () => {
            const imageId = `img-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;
            formData.vehicleConditionImages.push({
              id: imageId,
              dataUrl: reader.result
            });
            
            // Create image preview
            const previewItem = document.createElement('div');
            previewItem.className = 'image-preview-item';
            previewItem.innerHTML = `
              <img src="${reader.result}" alt="Vehicle condition">
              <button type="button" data-id="${imageId}">
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            `;
            
            vehicleImagesPreview.appendChild(previewItem);
            
            // Add remove button event listener
            previewItem.querySelector('button').addEventListener('click', function() {
              const imageId = this.dataset.id;
              formData.vehicleConditionImages = formData.vehicleConditionImages.filter(img => img.id !== imageId);
              previewItem.remove();
              
              if (formData.vehicleConditionImages.length === 0 && formSubmitted) {
                vehicleConditionError.classList.remove('hidden');
                vehicleConditionUpload.classList.add('error');
              }
            });
            
            vehicleConditionError.classList.add('hidden');
            vehicleConditionUpload.classList.remove('error');
          };
          
          reader.readAsDataURL(file);
        });
      }
    });

    // Signature pad functionality
    const canvas = document.getElementById('signature-canvas');
    const signaturePlaceholder = document.getElementById('signature-placeholder');
    const clearButton = document.getElementById('clear-signature');
    const signatureInput = document.getElementById('signature');
    const signatureError = document.getElementById('signature-error');
    const ctx = canvas.getContext('2d');
    let isDrawing = false;
    let hasSignature = false;

    // Set canvas dimensions
    function resizeCanvas() {
      const rect = canvas.getBoundingClientRect();
      canvas.width = rect.width;
      canvas.height = rect.height;
      
      // Reset canvas with white background
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // Set drawing style
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      ctx.strokeStyle = 'black';
    }

    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // Drawing functions
    function startDrawing(e) {
      isDrawing = true;
      
      let x, y;
      if (e.type.includes('touch')) {
        const rect = canvas.getBoundingClientRect();
        x = e.touches[0].clientX - rect.left;
        y = e.touches[0].clientY - rect.top;
      } else {
        x = e.offsetX;
        y = e.offsetY;
      }
      
      ctx.beginPath();
      ctx.moveTo(x, y);
    }

    function draw(e) {
      if (!isDrawing) return;
      
      let x, y;
      if (e.type.includes('touch')) {
        e.preventDefault(); // Prevent scrolling
        const rect = canvas.getBoundingClientRect();
        x = e.touches[0].clientX - rect.left;
        y = e.touches[0].clientY - rect.top;
      } else {
        x = e.offsetX;
        y = e.offsetY;
      }
      
      ctx.lineTo(x, y);
      ctx.stroke();
      
      hasSignature = true;
      signaturePlaceholder.style.display = 'none';
      
      // Save signature data
      signatureInput.value = canvas.toDataURL('image/png');
      formData.signature = signatureInput.value;
      signatureError.classList.add('hidden');
    }

    function endDrawing() {
      isDrawing = false;
    }

    // Add event listeners for mouse and touch
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', endDrawing);
    canvas.addEventListener('mouseleave', endDrawing);
    
    canvas.addEventListener('touchstart', startDrawing);
    canvas.addEventListener('touchmove', draw);
    canvas.addEventListener('touchend', endDrawing);

    // Clear signature
    clearButton.addEventListener('click', () => {
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      hasSignature = false;
      signaturePlaceholder.style.display = 'flex';
      signatureInput.value = '';
      formData.signature = '';
      
      if (formSubmitted) {
        signatureError.classList.remove('hidden');
      }
    });

    // Form validation and submission
    const form = document.getElementById('rental-form');
    const formErrorSummary = document.getElementById('form-error-summary');

    // Input event listeners for validation
    document.getElementById('first-name').addEventListener('input', (e) => {
      formData.firstName = e.target.value;
      if (formSubmitted && e.target.value) {
        document.getElementById('first-name-error').classList.add('hidden');
        e.target.classList.remove('error-border');
      }
    });

    document.getElementById('middle-name').addEventListener('input', (e) => {
      formData.middleName = e.target.value;
    });

    document.getElementById('last-name').addEventListener('input', (e) => {
      formData.lastName = e.target.value;
      if (formSubmitted && e.target.value) {
        document.getElementById('last-name-error').classList.add('hidden');
        e.target.classList.remove('error-border');
      }
    });

    document.getElementById('nationality').addEventListener('input', (e) => {
      formData.nationality = e.target.value;
      if (formSubmitted && e.target.value) {
        document.getElementById('nationality-error').classList.add('hidden');
        e.target.classList.remove('error-border');
      }
    });

    document.getElementById('email').addEventListener('input', (e) => {
      formData.email = e.target.value;
      if (formSubmitted) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (emailRegex.test(e.target.value)) {
          document.getElementById('email-error').classList.add('hidden');
          e.target.classList.remove('error-border');
        }
      }
    });

    document.getElementById('country-code').addEventListener('input', (e) => {
      formData.countryCode = e.target.value;
    });

    document.getElementById('phone').addEventListener('input', (e) => {
      formData.phone = e.target.value;
      if (formSubmitted && e.target.value) {
        document.getElementById('phone-error').classList.add('hidden');
        e.target.classList.remove('error-border');
      }
    });

    // Vehicle type checkboxes
    document.querySelectorAll('input[name="participant-1-vehicle-type"]').forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        formData.vehicleType = Array.from(document.querySelectorAll('input[name="participant-1-vehicle-type"]:checked')).map(cb => cb.value);
        
        if (formSubmitted && formData.vehicleType.length > 0) {
          document.getElementById('vehicle-type-error').classList.add('hidden');
          document.getElementById('vehicle-type-container').classList.remove('error-border');
        }
      });
    });

    // Terms agreement
    document.getElementById('terms-agreement').addEventListener('change', (e) => {
      formData.termsAgreement = e.target.checked;
      
      if (formSubmitted && e.target.checked) {
        document.getElementById('terms-agreement-error').classList.add('hidden');
        e.target.classList.remove('error-border');
      }
    });

    // Underaged person
    document.querySelectorAll('input[name="underaged-person"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        if (e.target.checked) {
          formData.underagedPerson = e.target.value;
        }
      });
    });

    // Form submission
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      formSubmitted = true;
      formErrors = {};
      
      // Validate required fields
      if (!formData.firstName) {
        formErrors.firstName = 'First name is required';
        document.getElementById('first-name-error').classList.remove('hidden');
        document.getElementById('first-name').classList.add('error-border');
      }
      
      if (!formData.lastName) {
        formErrors.lastName = 'Last name is required';
        document.getElementById('last-name-error').classList.remove('hidden');
        document.getElementById('last-name').classList.add('error-border');
      }
      
      if (!formData.nationality) {
        formErrors.nationality = 'Nationality is required';
        document.getElementById('nationality-error').classList.remove('hidden');
        document.getElementById('nationality').classList.add('error-border');
      }
      
      if (!formData.email) {
        formErrors.email = 'Email is required';
        document.getElementById('email-error').classList.remove('hidden');
        document.getElementById('email').classList.add('error-border');
      } else {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(formData.email)) {
          formErrors.email = 'Please enter a valid email address';
          document.getElementById('email-error').classList.remove('hidden');
          document.getElementById('email').classList.add('error-border');
        }
      }
      
      if (!formData.phone) {
        formErrors.phone = 'Phone number is required';
        document.getElementById('phone-error').classList.remove('hidden');
        document.getElementById('phone').classList.add('error-border');
      }
      
      if (formData.vehicleType.length === 0) {
        formErrors.vehicleType = 'Please select at least one vehicle type';
        document.getElementById('vehicle-type-error').classList.remove('hidden');
        document.getElementById('vehicle-type-container').classList.add('error-border');
      }
      
      if (!formData.passport) {
        formErrors.passport = 'ID document is required';
        document.getElementById('passport-error').classList.remove('hidden');
        document.getElementById('passport-upload').classList.add('error');
      }
      
      if (!formData.fromDate) {
        formErrors.fromDate = 'From date is required';
        document.getElementById('from-date-error').classList.remove('hidden');
        document.getElementById('from-date-button').classList.add('error-border');
      }
      
      if (!formData.fromTime) {
        formErrors.fromTime = 'From time is required';
        document.getElementById('from-time-error').classList.remove('hidden');
        document.getElementById('from-time-button').classList.add('error-border');
      }
      
      if (formData.vehicleConditionImages.length === 0) {
        formErrors.vehicleConditionImages = 'Please upload at least one image of the vehicle condition';
        document.getElementById('vehicle-condition-error').classList.remove('hidden');
        document.getElementById('vehicle-condition-upload').classList.add('error');
      }
      
      if (!formData.termsAgreement) {
        formErrors.termsAgreement = 'You must agree to the terms and conditions';
        document.getElementById('terms-agreement-error').classList.remove('hidden');
        document.getElementById('terms-agreement').classList.add('error-border');
      }
      
      if (!formData.signature) {
        formErrors.signature = 'Signature is required';
        document.getElementById('signature-error').classList.remove('hidden');
      }
      
      // Check if there are any errors
      if (Object.keys(formErrors).length > 0) {
        formErrorSummary.classList.remove('hidden');
        
        // Scroll to the first error
        const firstErrorId = Object.keys(formErrors)[0];
        let elementId;
        
        switch (firstErrorId) {
          case 'firstName':
            elementId = 'first-name';
            break;
          case 'lastName':
            elementId = 'last-name';
            break;
          case 'nationality':
            elementId = 'nationality';
            break;
          case 'email':
            elementId = 'email';
            break;
          case 'phone':
            elementId = 'phone';
            break;
          case 'vehicleType':
            elementId = 'vehicle-type-container';
            break;
          case 'passport':
            elementId = 'passport-upload';
            break;
          case 'fromDate':
            elementId = 'from-date-button';
            break;
          case 'fromTime':
            elementId = 'from-time-button';
            break;
          case 'vehicleConditionImages':
            elementId = 'vehicle-condition-upload';
            break;
          case 'termsAgreement':
            elementId = 'terms-agreement';
            break;
          case 'signature':
            elementId = 'signature-pad';
            break;
          default:
            elementId = null;
        }
        
        if (elementId) {
          document.getElementById(elementId).scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      } else {
        // Form is valid, submit
        formErrorSummary.classList.add('hidden');
        
        // Here you would implement the actual submission logic
        alert("Form submitted successfully! A copy has been sent to your email and saved to our records.");
      }
    });
  </script>
</body>
</html>
